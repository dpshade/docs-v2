"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7866],{52854:(e,t,r)=>{r.r(t),r.d(t,{assign:()=>oG,connect:()=>sG,createDataItemSigner:()=>oH,dryrun:()=>oq,message:()=>oz,monitor:()=>oK,result:()=>oF,results:()=>oD,serializeCron:()=>sq,spawn:()=>oV,unmonitor:()=>oW});var n,i,a,s,o,u,l,c,h,f,d,p,g,y,m,v,_,b=r(87358),w=r(75927).Buffer,x=Object.create,E=Object.defineProperty,k=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,T=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty,O=(e,t)=>function(){return t||(0,e[S(e)[0]])((t={exports:{}}).exports,t),t.exports},C=(e,t)=>{for(var r in t)E(e,r,{get:t[r],enumerable:!0})},I=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of S(t))A.call(e,i)||i===r||E(e,i,{get:()=>t[i],enumerable:!(n=k(t,i))||n.enumerable});return e},j=(e,t,r)=>(r=null!=e?x(T(e)):{},I(!t&&e&&e.__esModule?r:E(r,"default",{value:e,enumerable:!0}),e)),R=O({"node_modules/obliterator/iterator.js"(e,t){function r(e){if("function"!=typeof e)throw Error("obliterator/iterator: expecting a function!");this.next=e}"undefined"!=typeof Symbol&&(r.prototype[Symbol.iterator]=function(){return this}),r.of=function(){var e=arguments,t=e.length,n=0;return new r(function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}})},r.empty=function(){return new r(function(){return{done:!0}})},r.fromSequence=function(e){var t=0,n=e.length;return new r(function(){return t>=n?{done:!0}:{done:!1,value:e[t++]}})},r.is=function(e){return e instanceof r||"object"==typeof e&&null!==e&&"function"==typeof e.next},t.exports=r}}),U=O({"node_modules/obliterator/support.js"(e){e.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,e.SYMBOL_SUPPORT="undefined"!=typeof Symbol}}),B=O({"node_modules/obliterator/foreach.js"(e,t){var r=U(),n=r.ARRAY_BUFFER_SUPPORT,i=r.SYMBOL_SUPPORT;t.exports=function(e,t){var r,a,s,o,u;if(!e)throw Error("obliterator/forEach: invalid iterable.");if("function"!=typeof t)throw Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||n&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString()){for(s=0,o=e.length;s<o;s++)t(e[s],s);return}if("function"==typeof e.forEach){e.forEach(t);return}if(i&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"==typeof e.next){for(r=e,s=0;!0!==(u=r.next()).done;)t(u.value,s),s++;return}for(a in e)e.hasOwnProperty(a)&&t(e[a],a)}}}),L=O({"node_modules/mnemonist/utils/typed-arrays.js"(e){e.getPointerArray=function(e){var t=e-1;if(t<=255)return Uint8Array;if(t<=65535)return Uint16Array;if(t<=0xffffffff)return Uint32Array;throw Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(e){var t=e-1;return t<=127?Int8Array:t<=32767?Int16Array:t<=0x7fffffff?Int32Array:Float64Array},e.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var t={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(r,n){var i,a,s,o,u,l=null,c=0;for(o=0,u=r.length;o<u;o++)s=n?n(r[o]):r[o],(i=t[(a=e.getNumberType(s)).name])>c&&(c=i,l=a);return l},e.isTypedArray=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)},e.concat=function(){var e,t,r,n=0;for(e=0,r=arguments.length;e<r;e++)n+=arguments[e].length;var i=new arguments[0].constructor(n);for(e=0,t=0;e<r;e++)i.set(arguments[e],t),t+=arguments[e].length;return i},e.indices=function(t){for(var r=new(e.getPointerArray(t))(t),n=0;n<t;n++)r[n]=n;return r}}}),N=O({"node_modules/mnemonist/utils/iterables.js"(e){var t=B(),r=L();function n(e){return"number"==typeof e.length?e.length:"number"==typeof e.size?e.size:void 0}e.isArrayLike=function(e){return Array.isArray(e)||r.isTypedArray(e)},e.guessLength=n,e.toArray=function(e){var r=n(e),i="number"==typeof r?Array(r):[],a=0;return t(e,function(e){i[a++]=e}),i},e.toArrayWithIndices=function(e){var i=n(e),a="number"==typeof i?r.getPointerArray(i):Array,s="number"==typeof i?Array(i):[],o="number"==typeof i?new a(i):[],u=0;return t(e,function(e){s[u]=e,o[u]=u++}),[s,o]}}}),P=O({"node_modules/mnemonist/lru-cache.js"(e,t){var r=R(),n=B(),i=L(),a=N();function s(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,"number"!=typeof this.capacity||this.capacity<=0)throw Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var n=i.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K="function"==typeof e?new e(r):Array(r),this.V="function"==typeof t?new t(r):Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}s.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},s.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this},s.prototype.set=function(e,t){var r=this.items[e];if(void 0!==r){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r},s.prototype.setpop=function(e,t){var r=null,n=null,i=this.items[e];return void 0!==i?(this.splayOnTop(i),r=this.V[i],this.V[i]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],r=this.V[i],n=this.K[i],delete this.items[n]),this.items[e]=i,this.K[i]=e,this.V[i]=t,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,n)?{evicted:!0,key:n,value:r}:null},s.prototype.has=function(e){return e in this.items},s.prototype.get=function(e){var t=this.items[e];if(void 0!==t)return this.splayOnTop(t),this.V[t]},s.prototype.peek=function(e){var t=this.items[e];if(void 0!==t)return this.V[t]},s.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,i=this.head,a=this.K,s=this.V,o=this.forward;r<n;)e.call(t,s[i],a[i],this),i=o[i],r++},s.prototype.keys=function(){var e=0,t=this.size,n=this.head,i=this.K,a=this.forward;return new r(function(){if(e>=t)return{done:!0};var r=i[n];return++e<t&&(n=a[n]),{done:!1,value:r}})},s.prototype.values=function(){var e=0,t=this.size,n=this.head,i=this.V,a=this.forward;return new r(function(){if(e>=t)return{done:!0};var r=i[n];return++e<t&&(n=a[n]),{done:!1,value:r}})},s.prototype.entries=function(){var e=0,t=this.size,n=this.head,i=this.K,a=this.V,s=this.forward;return new r(function(){if(e>=t)return{done:!0};var r=i[n],o=a[n];return++e<t&&(n=s[n]),{done:!1,value:[r,o]}})},"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=s.prototype.entries),s.prototype.inspect=function(){for(var e,t=new Map,r=this.entries();!(e=r.next()).done;)t.set(e.value[0],e.value[1]);return Object.defineProperty(t,"constructor",{value:s,enumerable:!1}),t},"undefined"!=typeof Symbol&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.from=function(e,t,r,i){if(arguments.length<2){if("number"!=typeof(i=a.guessLength(e)))throw Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else 2==arguments.length&&(i=t,t=null,r=null);var o=new s(t,r,i);return n(e,function(e,t){o.set(t,e)}),o},t.exports=s}}),Z=O({"node_modules/mnemonist/lru-map.js"(e,t){var r=P(),n=B(),i=L(),a=N();function s(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,"number"!=typeof this.capacity||this.capacity<=0)throw Error("mnemonist/lru-map: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw Error("mnemonist/lru-map: capacity should be a finite positive integer.");var n=i.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K="function"==typeof e?new e(r):Array(r),this.V="function"==typeof t?new t(r):Array(r),this.size=0,this.head=0,this.tail=0,this.items=new Map}s.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items.clear()},s.prototype.set=function(e,t){var r=this.items.get(e);if(void 0!==r){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],this.items.delete(this.K[r])),this.items.set(e,r),this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r},s.prototype.setpop=function(e,t){var r=null,n=null,i=this.items.get(e);return void 0!==i?(this.splayOnTop(i),r=this.V[i],this.V[i]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],r=this.V[i],n=this.K[i],this.items.delete(n)),this.items.set(e,i),this.K[i]=e,this.V[i]=t,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,n)?{evicted:!0,key:n,value:r}:null},s.prototype.has=function(e){return this.items.has(e)},s.prototype.get=function(e){var t=this.items.get(e);if(void 0!==t)return this.splayOnTop(t),this.V[t]},s.prototype.peek=function(e){var t=this.items.get(e);if(void 0!==t)return this.V[t]},s.prototype.splayOnTop=r.prototype.splayOnTop,s.prototype.forEach=r.prototype.forEach,s.prototype.keys=r.prototype.keys,s.prototype.values=r.prototype.values,s.prototype.entries=r.prototype.entries,"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=s.prototype.entries),s.prototype.inspect=r.prototype.inspect,s.from=function(e,t,r,i){if(arguments.length<2){if("number"!=typeof(i=a.guessLength(e)))throw Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else 2==arguments.length&&(i=t,t=null,r=null);var o=new s(t,r,i);return n(e,function(e,t){o.set(t,e)}),o},t.exports=s}}),M=O({"node_modules/ms/index.js"(e,t){function r(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}t.exports=function(e,t){t=t||{};var n,i,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===a&&isFinite(e))return t.long?(n=Math.abs(e))>=864e5?r(e,n,864e5,"day"):n>=36e5?r(e,n,36e5,"hour"):n>=6e4?r(e,n,6e4,"minute"):n>=1e3?r(e,n,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}}),$=O({"node_modules/debug/src/common.js"(e,t){t.exports=function(e){function t(e){let n,i,a;let s=null;function o(...e){if(!o.enabled)return;let r=Number(new Date),i=r-(n||r);o.diff=i,o.prev=n,o.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";a++;let i=t.formatters[n];if("function"==typeof i){let t=e[a];r=i.call(o,t),e.splice(a,1),a--}return r}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(n),...t.skips.map(n).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let r,n;if("*"===e[e.length-1])return!0;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=M(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}}}),F=O({"node_modules/debug/src/browser.js"(e,t){let r;e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),e.splice(i,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(e){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(e){}return!t&&void 0!==b&&"env"in b&&(t=b.env.DEBUG),t},e.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(e){}}(),e.destroy=(r=!1,()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=$()(e);var{formatters:n}=t.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}}),D=O({"node_modules/base64-js/index.js"(e){e.byteLength=function(e){var t=o(e),r=t[0],n=t[1];return(r+n)*3/4-n},e.toByteArray=function(e){var t,r,n=o(e),s=n[0],u=n[1],l=new a((s+u)*3/4-u),c=0,h=u>0?s-4:s;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],s=0,o=r-i;s<o;s+=16383)a.push(function(e,t,r){for(var i,a=[],s=t;s<r;s+=3)a.push(n[(i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===i?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};var t,r,n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=s.length;t<r;++t)n[t]=s[t],i[s.charCodeAt(t)]=t;function o(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}}),z=O({"node_modules/ieee754/index.js"(e){e.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,u=(1<<o)-1,l=u>>1,c=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=o;c>0;a=256*a+e[t+h],h+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),a-=l}return(d?-1:1)*s*Math.pow(2,a-n)},e.write=function(e,t,r,n,i,a){var s,o,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,f=23===i?5960464477539062e-23:0,d=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?t+=f/u:t+=f*Math.pow(2,1-h),t*u>=2&&(s++,u/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(t*u-1)*Math.pow(2,i),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;e[r+d]=255&s,d+=p,s/=256,l-=8);e[r+d-p]|=128*g}}}),V=O({"node_modules/buffer/index.js"(e){var t=D(),r=z(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|f(e,t),n=i(r),s=n.write(e,t);return s!==r&&(n=n.slice(0,s)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(L(e,Uint8Array)){let t=new Uint8Array(e);return c(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(L(e,ArrayBuffer)||e&&L(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(L(e,SharedArrayBuffer)||e&&L(e.buffer,SharedArrayBuffer)))return c(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);let s=function(e){if(a.isBuffer(e)){let t=0|h(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length){var t;return"number"!=typeof e.length||(t=e.length)!=t?i(0):l(e)}if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function o(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return o(e),i(e<0?0:0|h(e))}function l(e){let t=e.length<0?0:0|h(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||L(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(i)return n?-1:R(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(r>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=N[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return m(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var a,s;return a=r,s=n,0===a&&s===this.length?t.fromByteArray(this):t.fromByteArray(this.slice(a,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function p(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r=+r)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let a,s=1,o=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,o/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(a=r;a<o;a++)if(l(e,a)===l(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===u)return n*s}else -1!==n&&(a-=a-n),n=-1}else for(r+u>o&&(r=o-u),a=r;a>=0;a--){let r=!0;for(let n=0;n<u;n++)if(l(e,a+n)!==l(t,n)){r=!1;break}if(r)return a}return -1}function m(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,o,u;switch(s){case 1:t<128&&(a=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(a=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(a=u);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&u<1114112&&(a=u)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function b(e,t,r,n,i){O(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function w(e,t,r,n,i){O(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function x(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,n,i,a){return t=+t,n>>>=0,a||x(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function k(e,t,n,i,a){return t=+t,n>>>=0,a||x(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(o(e),e<=0)?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),L(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(L(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?m(this,0,e):d.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,o=r-t,u=Math.min(s,o),l=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){s=l[e],o=c[e];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,a,s,o,u,l,c,h;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let d=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,B(R(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return s=t,o=r,B(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,o);case"base64":return u=t,l=r,B(U(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,B(function(e,t){let r,n;let i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,h);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=P(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&I(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=P(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&I(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=P(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&I(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),a.prototype.readBigInt64BE=P(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&I(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=P(function(e,t=0){return b(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=P(function(e,t=0){return w(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=P(function(e,t=0){return b(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=P(function(e,t=0){return w(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=a.isBuffer(e)?e:a.from(e,n),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};var S={};function T(e,t,r){S[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function A(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function O(e,t,r,n,i,a){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new S.ERR_OUT_OF_RANGE("value",n,e)}C(i,"offset"),(void 0===n[i]||void 0===n[i+a])&&I(i,n.length-(a+1))}function C(e,t){if("number"!=typeof e)throw new S.ERR_INVALID_ARG_TYPE(t,"number",e)}function I(e,t,r){if(Math.floor(e)!==e)throw C(e,r),new S.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new S.ERR_BUFFER_OUT_OF_BOUNDS;throw new S.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=A(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=A(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);var j=/[^+/0-9A-Za-z-_]/g;function R(e,t){let r;t=t||1/0;let n=e.length,i=null,a=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function U(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function L(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var N=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function P(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw Error("BigInt not supported")}}}),K={};function W(e){return e===K}function q(e){return function t(r){return 0==arguments.length||W(r)?t:e.apply(this,arguments)}}function G(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return W(r)?t:q(function(t){return e(r,t)});default:return W(r)&&W(n)?t:W(r)?q(function(t){return e(t,n)}):W(n)?q(function(t){return e(r,t)}):e(r,n)}}}function H(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,i){return t.apply(this,arguments)};case 5:return function(e,r,n,i,a){return t.apply(this,arguments)};case 6:return function(e,r,n,i,a,s){return t.apply(this,arguments)};case 7:return function(e,r,n,i,a,s,o){return t.apply(this,arguments)};case 8:return function(e,r,n,i,a,s,o,u){return t.apply(this,arguments)};case 9:return function(e,r,n,i,a,s,o,u,l){return t.apply(this,arguments)};case 10:return function(e,r,n,i,a,s,o,u,l,c){return t.apply(this,arguments)};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten")}}var Y=G(function(e,t){return 1===e?q(t):H(e,function e(t,r,n){return function(){for(var i,a=[],s=0,o=t,u=0,l=!1;u<r.length||s<arguments.length;)u<r.length&&(!W(r[u])||s>=arguments.length)?i=r[u]:(i=arguments[s],s+=1),a[u]=i,W(i)?l=!0:o-=1,u+=1;return!l&&o<=0?n.apply(this,a):H(Math.max(0,o),e(t,a,n))}}(e,[],t))});function J(e){return function t(r,n,i){switch(arguments.length){case 0:return t;case 1:return W(r)?t:G(function(t,n){return e(r,t,n)});case 2:return W(r)&&W(n)?t:W(r)?G(function(t,r){return e(t,n,r)}):W(n)?G(function(t,n){return e(r,t,n)}):q(function(t){return e(r,n,t)});default:return W(r)&&W(n)&&W(i)?t:W(r)&&W(n)?G(function(t,r){return e(t,r,i)}):W(r)&&W(i)?G(function(t,r){return e(t,n,r)}):W(n)&&W(i)?G(function(t,n){return e(r,t,n)}):W(r)?q(function(t){return e(t,n,i)}):W(n)?q(function(t){return e(r,t,i)}):W(i)?q(function(t){return e(r,n,t)}):e(r,n,i)}}}var Q=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function X(e,t,r){return function(){if(0==arguments.length)return r();var n=arguments[arguments.length-1];if(!Q(n)){for(var i=0;i<e.length;){if("function"==typeof n[e[i]])return n[e[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(null!=n&&"function"==typeof n["@@transducer/step"]){var a=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(n)}}return r.apply(this,arguments)}}var ee={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function et(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function er(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}function en(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var ei="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},ea=Object.prototype.toString,es=function(){return"[object Arguments]"===ea.call(arguments)?function(e){return"[object Arguments]"===ea.call(e)}:function(e){return en("callee",e)}}(),eo=!({toString:null}).propertyIsEnumerable("toString"),eu=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],el=function(){return arguments.propertyIsEnumerable("length")}(),ec=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},eh="function"!=typeof Object.keys||el?q(function(e){if(Object(e)!==e)return[];var t,r,n=[],i=el&&es(e);for(t in e)en(t,e)&&(!i||"length"!==t)&&(n[n.length]=t);if(eo)for(r=eu.length-1;r>=0;)en(t=eu[r],e)&&!ec(n,t)&&(n[n.length]=t),r-=1;return n}):q(function(e){return Object(e)!==e?[]:Object.keys(e)}),ef=q(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function ed(e,t,r,n){var i=et(e);function a(e,t){return ep(e,t,r.slice(),n.slice())}return!er(function(e,t){return!er(a,t,e)},et(t),i)}function ep(e,t,r,n){if(ei(e,t))return!0;var i,a=ef(e);if(a!==ef(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(null==(i=String(e.constructor).match(/^function (\w*)/))?"":i[1]))return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&ei(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!ei(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1}for(var s=r.length-1;s>=0;){if(r[s]===e)return n[s]===t;s-=1}switch(a){case"Map":return e.size===t.size&&ed(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&ed(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=eh(e);if(o.length!==eh(t).length)return!1;var u=r.concat([e]),l=n.concat([t]);for(s=o.length-1;s>=0;){var c=o[s];if(!(en(c,t)&&ep(t[c],e[c],u,l)))return!1;s-=1}return!0}var eg=G(function(e,t){return ep(e,t,[],[])});function ey(e,t){for(var r=0,n=t.length,i=Array(n);r<n;)i[r]=e(t[r]),r+=1;return i}function em(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ev=function(e){return(e<10?"0":"")+e},e_="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+ev(e.getUTCMonth()+1)+"-"+ev(e.getUTCDate())+"T"+ev(e.getUTCHours())+":"+ev(e.getUTCMinutes())+":"+ev(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function eb(e,t,r){for(var n=0,i=r.length;n<i;)t=e(t,r[n]),n+=1;return t}var ew=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=ee.init,e.prototype["@@transducer/result"]=ee.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),ex=G(X(["fantasy-land/filter","filter"],function(e){return function(t){return new ew(e,t)}},function(e,t){return"[object Object]"===Object.prototype.toString.call(t)?eb(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},eh(t)):function(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i}(e,t)})),eE=G(function(e,t){return ex(function(){return!e.apply(this,arguments)},t)}),ek=q(function(e){return function e(t,r){var n=function(n){var i=r.concat([t]);return function(e,t,r){var n,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;r<e.length;){if(0===(i=e[r])&&1/i===n)return r;r+=1}return -1}if(t!=t){for(;r<e.length;){if("number"==typeof(i=e[r])&&i!=i)return r;r+=1}return -1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if(eg(e[r],t))return r;r+=1}return -1}(i,n,0)>=0?"<Circular>":e(n,i)},i=function(e,t){return ey(function(t){return em(t)+": "+n(e[t])},t.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+ey(n,t).join(", ")+"))";case"[object Array]":return"["+ey(n,t).concat(i(t,eE(function(e){return/^\d+$/.test(e)},eh(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):em(e_(t)))+")";case"[object Map]":return"new Map("+n(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+n(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+n(Array.from(t).sort())+")";case"[object String]":return"object"==typeof t?"new String("+n(t.valueOf())+")":em(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var a=t.toString();if("[object Object]"!==a)return a}return"{"+i(t,eh(t)).join(", ")+"}"}}(e,[])}),eS=G(function(e,t){if(e===t)return t;function r(e,t){if(e>t!=t>e)return t>e?t:e}var n=r(e,t);if(void 0!==n)return n;var i=r(typeof e,typeof t);if(void 0!==i)return i===typeof e?e:t;var a=ek(e),s=r(a,ek(t));return void 0!==s&&s===a?e:t}),eT=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=ee.init,e.prototype["@@transducer/result"]=ee.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),eA=G(X(["fantasy-land/map","map"],function(e){return function(t){return new eT(e,t)}},function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return Y(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return eb(function(r,n){return r[n]=e(t[n]),r},{},eh(t));default:return ey(e,t)}})),eO=Number.isInteger||function(e){return e<<0===e};function eC(e){return"[object String]"===Object.prototype.toString.call(e)}function eI(e,t){var r=e<0?t.length+e:e;return eC(t)?t.charAt(r):t[r]}var ej=G(function(e,t){if(null!=t)return eO(e)?eI(e,t):t[e]}),eR=G(function(e,t){return eA(ej(e),t)}),eU=q(function(e){return!!Q(e)||!(!e||"object"!=typeof e||eC(e))&&(0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}),eB="u">typeof Symbol?Symbol.iterator:"@@iterator",eL=G(function(e,t){return H(e.length,function(){return e.apply(t,arguments)})}),eN=function(e,t,r){return function(n,i,a){if(eU(a))return e(n,i,a);if(null==a)return i;if("function"==typeof a["fantasy-land/reduce"])return t(n,i,a,"fantasy-land/reduce");if(null!=a[eB])return r(n,i,a[eB]());if("function"==typeof a.next)return r(n,i,a);if("function"==typeof a.reduce)return t(n,i,a,"reduce");throw TypeError("reduce: list must be array or iterable")}}(function(e,t,r){for(var n=0,i=r.length;n<i;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)},function(e,t,r,n){return e["@@transducer/result"](r[n](eL(e["@@transducer/step"],e),t))},function(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}),eP=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}(),eZ=J(function(e,t,r){return eN("function"==typeof e?new eP(e):e,t,r)});function eM(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function e$(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return Q(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var eF=J(e$("slice",function(e,t,r){return Array.prototype.slice.call(r,e,t)})),eD=q(e$("tail",eF(1,1/0)));function ez(){if(0==arguments.length)throw Error("pipe requires at least one argument");return H(arguments[0].length,eZ(eM,arguments[0],eD(arguments)))}var eV=G(function(e,t){return Y(eZ(eS,0,eR("length",t)),function(){var r=arguments,n=this;return e.apply(n,ey(function(e){return e.apply(n,r)},t))})}),eK=G(function(e,t){return null==t||t!=t?e:t}),eW=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=ee.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var r;return this.f(t)&&(this.found=!0,e=(r=this.xf["@@transducer/step"](e,t))&&r["@@transducer/reduced"]?r:{"@@transducer/value":r,"@@transducer/reduced":!0}),e},e}(),eq=G(X(["find"],function(e){return function(t){return new eW(e,t)}},function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}})),eG=q(function(e){return eV(function(){return Array.prototype.slice.call(arguments,0)},e)}),eH=G(function(e,t){for(var r=t,n=0;n<e.length;n+=1){if(null==r)return;var i=e[n];r=eO(i)?eI(i,r):r[i]}return r}),eY=J(function(e,t,r){return eg(e,ej(t,r))}),eJ=class extends Error{name="InvalidSchedulerLocation"},eQ=class extends Error{name="SchedulerTagNotFound"},eX=class extends Error{name="TransactionNotFound"},e0=e=>ez(eK([]),eq(eY(e,"name")),eK({}),ej("value")),e1=e=>ez(t=>{if(!t)throw new eX(e);return t},ej("tags"),eK([]));function e2({fetch:e,GRAPHQL_URL:t}){return async({query:r,variables:n})=>e(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r,variables:n})}).then(e=>e.json())}function e6({fetch:e,GRAPHQL_URL:t}){let r=e2({fetch:e,GRAPHQL_URL:t}),n=`
    query GetSchedulerLocation ($owner: String!) {
      transactions (
        owners: [$owner]
        tags: [
          { name: "Data-Protocol", values: ["ao"] },
          { name: "Type", values: ["Scheduler-Location"] }
        ]
        # Only need the most recent Scheduler-Location
        sort: HEIGHT_DESC
        first: 1
      ) {
        edges {
          node {
            tags {
              name
              value
            }
          }
        }
      }
    }
  `;return async e=>r({query:n,variables:{owner:e}}).then(eH(["data","transactions","edges","0","node"])).then(e1(`Could not find 'Scheduler-Location' owner by wallet ${e}`)).then(eG([e0("Url"),e0("Time-To-Live")])).then(([t,r])=>{if(!t)throw new eJ('No "Url" tag found on Scheduler-Location');if(!r)throw new eJ('No "Time-To-Live" tag found on Scheduler-Location');return{url:t,ttl:r,address:e}})}var e3="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,e5=new Set,e8="object"==typeof b&&b?b:{},e4=(e,t,r,n)=>{"function"==typeof e8.emitWarning?e8.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)},e9=globalThis.AbortController,e7=globalThis.AbortSignal;if(typeof e9>"u"){e7=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},e9=class{constructor(){t()}signal=new e7;abort(e){if(!this.signal.aborted){for(let t of(this.signal.reason=e,this.signal.aborted=!0,this.signal._onabort))t(e);this.signal.onabort?.(e)}}};let e=e8.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,e4("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var te=e=>!e5.has(e);Symbol("type");var tt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),tr=e=>tt(e)?e<=256?Uint8Array:e<=65536?Uint16Array:e<=0x100000000?Uint32Array:e<=Number.MAX_SAFE_INTEGER?tn:null:null,tn=class extends Array{constructor(e){super(e),this.fill(0)}},ti=class e{heap;length;static #e=!1;static create(t){let r=tr(t);if(!r)return[];e.#e=!0;let n=new e(t,r);return e.#e=!1,n}constructor(t,r){if(!e.#e)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},ta=class e{#e;#t;#r;#n;#i;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#a;#s;#o;#u;#l;#c;#h;#f;#d;#p;#g;#y;#m;#v;#_;#b;#w;static unsafeExposeInternals(e){return{starts:e.#m,ttls:e.#v,sizes:e.#y,keyMap:e.#o,keyList:e.#u,valList:e.#l,next:e.#c,prev:e.#h,get head(){return e.#f},get tail(){return e.#d},free:e.#p,isBackgroundFetch:t=>e.#x(t),backgroundFetch:(t,r,n,i)=>e.#E(t,r,n,i),moveToTail:t=>e.#k(t),indexes:t=>e.#S(t),rindexes:t=>e.#T(t),isStale:t=>e.#A(t)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#s}get size(){return this.#a}get fetchMethod(){return this.#i}get dispose(){return this.#r}get disposeAfter(){return this.#n}constructor(t){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:a,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:u,dispose:l,disposeAfter:c,noDisposeOnSet:h,noUpdateTTL:f,maxSize:d=0,maxEntrySize:p=0,sizeCalculation:g,fetchMethod:y,noDeleteOnFetchRejection:m,noDeleteOnStaleGet:v,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:b,ignoreFetchAbort:w}=t;if(0!==r&&!tt(r))throw TypeError("max option must be a nonnegative integer");let x=r?tr(r):Array;if(!x)throw Error("invalid max value: "+r);if(this.#e=r,this.#t=d,this.maxEntrySize=p||this.#t,this.sizeCalculation=g,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==y&&"function"!=typeof y)throw TypeError("fetchMethod must be a function if specified");if(this.#i=y,this.#b=!!y,this.#o=new Map,this.#u=Array(r).fill(void 0),this.#l=Array(r).fill(void 0),this.#c=new x(r),this.#h=new x(r),this.#f=0,this.#d=0,this.#p=ti.create(r),this.#a=0,this.#s=0,"function"==typeof l&&(this.#r=l),"function"==typeof c?(this.#n=c,this.#g=[]):(this.#n=void 0,this.#g=void 0),this.#_=!!this.#r,this.#w=!!this.#n,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!m,this.allowStaleOnFetchRejection=!!_,this.allowStaleOnFetchAbort=!!b,this.ignoreFetchAbort=!!w,0!==this.maxEntrySize){if(0!==this.#t&&!tt(this.#t))throw TypeError("maxSize must be a positive integer if specified");if(!tt(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#O()}if(this.allowStale=!!u,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=tt(i)||0===i?i:1,this.ttlAutopurge=!!a,this.ttl=n||0,this.ttl){if(!tt(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#C()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let t="LRU_CACHE_UNBOUNDED";te(t)&&(e5.add(t),e4("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,e))}}getRemainingTTL(e){return this.#o.has(e)?1/0:0}#C(){let e=new tn(this.#e),t=new tn(this.#e);this.#v=e,this.#m=t,this.#I=(r,n,i=e3.now())=>{if(t[r]=0!==n?i:0,e[r]=n,0!==n&&this.ttlAutopurge){let e=setTimeout(()=>{this.#A(r)&&this.delete(this.#u[r])},n+1);e.unref&&e.unref()}},this.#j=r=>{t[r]=0!==e[r]?e3.now():0},this.#R=(i,a)=>{if(e[a]){let s=e[a],o=t[a];if(!s||!o)return;i.ttl=s,i.start=o,i.now=r||n();let u=i.now-o;i.remainingTTL=s-u}};let r=0,n=()=>{let e=e3.now();if(this.ttlResolution>0){r=e;let t=setTimeout(()=>r=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=i=>{let a=this.#o.get(i);if(void 0===a)return 0;let s=e[a],o=t[a];return s&&o?s-((r||n())-o):1/0},this.#A=i=>{let a=t[i],s=e[i];return!!s&&!!a&&(r||n())-a>s}}#j=()=>{};#R=()=>{};#I=()=>{};#A=()=>!1;#O(){let e=new tn(this.#e);this.#s=0,this.#y=e,this.#U=t=>{this.#s-=e[t],e[t]=0},this.#B=(e,t,r,n)=>{if(this.#x(t))return 0;if(!tt(r)){if(n){if("function"!=typeof n)throw TypeError("sizeCalculation must be a function");if(!tt(r=n(t,e)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.")}return r},this.#L=(t,r,n)=>{if(e[t]=r,this.#t){let r=this.#t-e[t];for(;this.#s>r;)this.#N(!0)}this.#s+=e[t],n&&(n.entrySize=r,n.totalCalculatedSize=this.#s)}}#U=e=>{};#L=(e,t,r)=>{};#B=(e,t,r,n)=>{if(r||n)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:e=this.allowStale}={}){if(this.#a)for(let t=this.#d;!(!this.#P(t)||((e||!this.#A(t))&&(yield t),t===this.#f));)t=this.#h[t]}*#T({allowStale:e=this.allowStale}={}){if(this.#a)for(let t=this.#f;!(!this.#P(t)||((e||!this.#A(t))&&(yield t),t===this.#d));)t=this.#c[t]}#P(e){return void 0!==e&&this.#o.get(this.#u[e])===e}*entries(){for(let e of this.#S())void 0===this.#l[e]||void 0===this.#u[e]||this.#x(this.#l[e])||(yield[this.#u[e],this.#l[e]])}*rentries(){for(let e of this.#T())void 0===this.#l[e]||void 0===this.#u[e]||this.#x(this.#l[e])||(yield[this.#u[e],this.#l[e]])}*keys(){for(let e of this.#S()){let t=this.#u[e];void 0===t||this.#x(this.#l[e])||(yield t)}}*rkeys(){for(let e of this.#T()){let t=this.#u[e];void 0===t||this.#x(this.#l[e])||(yield t)}}*values(){for(let e of this.#S())void 0===this.#l[e]||this.#x(this.#l[e])||(yield this.#l[e])}*rvalues(){for(let e of this.#T())void 0===this.#l[e]||this.#x(this.#l[e])||(yield this.#l[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(let r of this.#S()){let n=this.#l[r],i=this.#x(n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,this.#u[r],this))return this.get(this.#u[r],t)}}forEach(e,t=this){for(let r of this.#S()){let n=this.#l[r],i=this.#x(n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,this.#u[r],this)}}rforEach(e,t=this){for(let r of this.#T()){let n=this.#l[r],i=this.#x(n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,this.#u[r],this)}}purgeStale(){let e=!1;for(let t of this.#T({allowStale:!0}))this.#A(t)&&(this.delete(this.#u[t]),e=!0);return e}info(e){let t=this.#o.get(e);if(void 0===t)return;let r=this.#l[t],n=this.#x(r)?r.__staleWhileFetching:r;if(void 0===n)return;let i={value:n};if(this.#v&&this.#m){let e=this.#v[t],r=this.#m[t];if(e&&r){let t=e-(e3.now()-r);i.ttl=t,i.start=Date.now()}}return this.#y&&(i.size=this.#y[t]),i}dump(){let e=[];for(let t of this.#S({allowStale:!0})){let r=this.#u[t],n=this.#l[t],i=this.#x(n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;let a={value:i};if(this.#v&&this.#m){a.ttl=this.#v[t];let e=e3.now()-this.#m[t];a.start=Math.floor(Date.now()-e)}this.#y&&(a.size=this.#y[t]),e.unshift([r,a])}return e}load(e){for(let[t,r]of(this.clear(),e)){if(r.start){let e=Date.now()-r.start;r.start=e3.now()-e}this.set(t,r.value,r)}}set(e,t,r={}){if(void 0===t)return this.delete(e),this;let{ttl:n=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:o}=r,{noUpdateTTL:u=this.noUpdateTTL}=r,l=this.#B(e,t,r.size||0,s);if(this.maxEntrySize&&l>this.maxEntrySize)return o&&(o.set="miss",o.maxEntrySizeExceeded=!0),this.delete(e),this;let c=0===this.#a?void 0:this.#o.get(e);if(void 0===c)c=0===this.#a?this.#d:0!==this.#p.length?this.#p.pop():this.#a===this.#e?this.#N(!1):this.#a,this.#u[c]=e,this.#l[c]=t,this.#o.set(e,c),this.#c[this.#d]=c,this.#h[c]=this.#d,this.#d=c,this.#a++,this.#L(c,l,o),o&&(o.set="add"),u=!1;else{this.#k(c);let r=this.#l[c];if(t!==r){if(this.#b&&this.#x(r)){r.__abortController.abort(Error("replaced"));let{__staleWhileFetching:t}=r;void 0!==t&&!a&&(this.#_&&this.#r?.(t,e,"set"),this.#w&&this.#g?.push([t,e,"set"]))}else a||(this.#_&&this.#r?.(r,e,"set"),this.#w&&this.#g?.push([r,e,"set"]));if(this.#U(c),this.#L(c,l,o),this.#l[c]=t,o){o.set="replace";let e=r&&this.#x(r)?r.__staleWhileFetching:r;void 0!==e&&(o.oldValue=e)}}else o&&(o.set="update")}if(0===n||this.#v||this.#C(),this.#v&&(u||this.#I(c,n,i),o&&this.#R(o,c)),!a&&this.#w&&this.#g){let e=this.#g,t;for(;t=e?.shift();)this.#n?.(...t)}return this}pop(){try{for(;this.#a;){let e=this.#l[this.#f];if(this.#N(!0),this.#x(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#w&&this.#g){let e=this.#g,t;for(;t=e?.shift();)this.#n?.(...t)}}}#N(e){let t=this.#f,r=this.#u[t],n=this.#l[t];return this.#b&&this.#x(n)?n.__abortController.abort(Error("evicted")):(this.#_||this.#w)&&(this.#_&&this.#r?.(n,r,"evict"),this.#w&&this.#g?.push([n,r,"evict"])),this.#U(t),e&&(this.#u[t]=void 0,this.#l[t]=void 0,this.#p.push(t)),1===this.#a?(this.#f=this.#d=0,this.#p.length=0):this.#f=this.#c[t],this.#o.delete(r),this.#a--,t}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=this.#o.get(e);if(void 0!==i){let e=this.#l[i];if(this.#x(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#A(i))return r&&this.#j(i),n&&(n.has="hit",this.#R(n,i)),!0;n&&(n.has="stale",this.#R(n,i))}else n&&(n.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,n=this.#o.get(e);if(void 0===n||!r&&this.#A(n))return;let i=this.#l[n];return this.#x(i)?i.__staleWhileFetching:i}#E(e,t,r,n){let i=void 0===t?void 0:this.#l[t];if(this.#x(i))return i;let a=new e9,{signal:s}=r;s?.addEventListener("abort",()=>a.abort(s.reason),{signal:a.signal});let o={signal:a.signal,options:r,context:n},u=(n,i=!1)=>{let{aborted:s}=a.signal,u=r.ignoreFetchAbort&&void 0!==n;return(r.status&&(s&&!i?(r.status.fetchAborted=!0,r.status.fetchError=a.signal.reason,u&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),!s||u||i)?(this.#l[t]===c&&(void 0===n?c.__staleWhileFetching?this.#l[t]=c.__staleWhileFetching:this.delete(e):(r.status&&(r.status.fetchUpdated=!0),this.set(e,n,o.options))),n):l(a.signal.reason)},l=n=>{let{aborted:i}=a.signal,s=i&&r.allowStaleOnFetchAbort,o=s||r.allowStaleOnFetchRejection,u=o||r.noDeleteOnFetchRejection;if(this.#l[t]===c&&(u&&void 0!==c.__staleWhileFetching?s||(this.#l[t]=c.__staleWhileFetching):this.delete(e)),o)return r.status&&void 0!==c.__staleWhileFetching&&(r.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw n};r.status&&(r.status.fetchDispatched=!0);let c=new Promise((t,n)=>{let s=this.#i?.(e,i,o);s&&s instanceof Promise&&s.then(e=>t(void 0===e?void 0:e),n),a.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>u(e,!0)))})}).then(u,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),l(e))),h=Object.assign(c,{__abortController:a,__staleWhileFetching:i,__returned:void 0});return void 0===t?(this.set(e,h,{...o.options,status:void 0}),t=this.#o.get(e)):this.#l[t]=h,h}#x(e){return!!this.#b&&!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof e9}async fetch(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:o=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:p,forceRefresh:g=!1,status:y,signal:m}=t;if(!this.#b)return y&&(y.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:y});let v={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:s,size:o,sizeCalculation:u,noUpdateTTL:l,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:f,status:y,signal:m},_=this.#o.get(e);if(void 0===_){y&&(y.fetch="miss");let t=this.#E(e,_,v,p);return t.__returned=t}{let t=this.#l[_];if(this.#x(t)){let e=r&&void 0!==t.__staleWhileFetching;return y&&(y.fetch="inflight",e&&(y.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}let i=this.#A(_);if(!g&&!i)return y&&(y.fetch="hit"),this.#k(_),n&&this.#j(_),y&&this.#R(y,_),t;let a=this.#E(e,_,v,p),s=void 0!==a.__staleWhileFetching&&r;return y&&(y.fetch=i?"stale":"refresh",s&&i&&(y.returnedStale=!0)),s?a.__staleWhileFetching:a.__returned=a}}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}=t,s=this.#o.get(e);if(void 0!==s){let t=this.#l[s],o=this.#x(t);return a&&this.#R(a,s),this.#A(s)?(a&&(a.get="stale"),o?(a&&r&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||this.delete(e),a&&r&&(a.returnedStale=!0),r?t:void 0)):(a&&(a.get="hit"),o?t.__staleWhileFetching:(this.#k(s),n&&this.#j(s),t))}a&&(a.get="miss")}#Z(e,t){this.#h[t]=e,this.#c[e]=t}#k(e){e!==this.#d&&(e===this.#f?this.#f=this.#c[e]:this.#Z(this.#h[e],this.#c[e]),this.#Z(this.#d,e),this.#d=e)}delete(e){let t=!1;if(0!==this.#a){let r=this.#o.get(e);if(void 0!==r){if(t=!0,1===this.#a)this.clear();else{this.#U(r);let t=this.#l[r];if(this.#x(t)?t.__abortController.abort(Error("deleted")):(this.#_||this.#w)&&(this.#_&&this.#r?.(t,e,"delete"),this.#w&&this.#g?.push([t,e,"delete"])),this.#o.delete(e),this.#u[r]=void 0,this.#l[r]=void 0,r===this.#d)this.#d=this.#h[r];else if(r===this.#f)this.#f=this.#c[r];else{let e=this.#h[r];this.#c[e]=this.#c[r];let t=this.#c[r];this.#h[t]=this.#h[r]}this.#a--,this.#p.push(r)}}}if(this.#w&&this.#g?.length){let e=this.#g,t;for(;t=e?.shift();)this.#n?.(...t)}return t}clear(){for(let e of this.#T({allowStale:!0})){let t=this.#l[e];if(this.#x(t))t.__abortController.abort(Error("deleted"));else{let r=this.#u[e];this.#_&&this.#r?.(t,r,"delete"),this.#w&&this.#g?.push([t,r,"delete"])}}if(this.#o.clear(),this.#l.fill(void 0),this.#u.fill(void 0),this.#v&&this.#m&&(this.#v.fill(0),this.#m.fill(0)),this.#y&&this.#y.fill(0),this.#f=0,this.#d=0,this.#p.length=0,this.#s=0,this.#a=0,this.#w&&this.#g){let e=this.#g,t;for(;t=e?.shift();)this.#n?.(...t)}}};!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(n||(n={})),(i||(i={})).mergeShapes=(e,t)=>({...e,...t});var ts=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),to=e=>{switch(typeof e){case"undefined":return ts.undefined;case"string":return ts.string;case"number":return isNaN(e)?ts.nan:ts.number;case"boolean":return ts.boolean;case"function":return ts.function;case"bigint":return ts.bigint;case"symbol":return ts.symbol;case"object":return Array.isArray(e)?ts.array:null===e?ts.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ts.promise:"u">typeof Map&&e instanceof Map?ts.map:"u">typeof Set&&e instanceof Set?ts.set:"u">typeof Date&&e instanceof Date?ts.date:ts.object;default:return ts.unknown}},tu=n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tl=class e extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(t){if(!(t instanceof e))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};tl.create=e=>new tl(e);var tc=(e,t)=>{let r;switch(e.code){case tu.invalid_type:r=e.received===ts.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case tu.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,n.jsonStringifyReplacer)}`;break;case tu.unrecognized_keys:r=`Unrecognized key(s) in object: ${n.joinValues(e.keys,", ")}`;break;case tu.invalid_union:r="Invalid input";break;case tu.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${n.joinValues(e.options)}`;break;case tu.invalid_enum_value:r=`Invalid enum value. Expected ${n.joinValues(e.options)}, received '${e.received}'`;break;case tu.invalid_arguments:r="Invalid function arguments";break;case tu.invalid_return_type:r="Invalid function return type";break;case tu.invalid_date:r="Invalid date";break;case tu.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:n.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case tu.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case tu.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case tu.custom:r="Invalid input";break;case tu.invalid_intersection_types:r="Intersection results could not be merged";break;case tu.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case tu.not_finite:r="Number must be finite";break;default:r=t.defaultError,n.assertNever(e)}return{message:r}},th=tc;function tf(){return th}var td=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function tp(e,t){let r=tf(),n=td({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===tc?void 0:tc].filter(e=>!!e)});e.common.issues.push(n)}var tg=class e{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return ty;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(t,r){let n=[];for(let e of r){let t=await e.key,r=await e.value;n.push({key:t,value:r})}return e.mergeObjectSync(t,n)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return ty;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&("u">typeof i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}},ty=Object.freeze({status:"aborted"}),tm=e=>({status:"dirty",value:e}),tv=e=>({status:"valid",value:e}),t_=e=>"aborted"===e.status,tb=e=>"dirty"===e.status,tw=e=>"valid"===e.status,tx=e=>"u">typeof Promise&&e instanceof Promise;function tE(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function tk(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(a||(a={}));var tS=class{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},tT=(e,t)=>{if(tw(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new tl(e.common.issues);return this._error=t,this._error}}};function tA(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var a,s;let{message:o}=e;return"invalid_enum_value"===t.code?{message:o??i.defaultError}:typeof i.data>"u"?{message:null!==(a=o??n)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=o??r)&&void 0!==s?s:i.defaultError}},description:i}}var tO=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return to(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:to(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tg,ctx:{common:e.parent.common,data:e.data,parsedType:to(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(tx(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=t?.async)&&void 0!==r&&r,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:to(e)},i=this._parseSync({data:e,path:n.path,parent:n});return tT(n,i)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:to(e)},n=this._parse({data:e,path:r.path,parent:r});return tT(r,await (tx(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:tu.custom,...r(t)});return"u">typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new ru({schema:this,typeName:l.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return rl.create(this,this._def)}nullable(){return rc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return t1.create(this,this._def)}promise(){return ro.create(this,this._def)}or(e){return t6.create([this,e],this._def)}and(e){return t8.create(this,e,this._def)}transform(e){return new ru({...tA(this._def),schema:this,typeName:l.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new rh({...tA(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:l.ZodDefault})}brand(){return new rg({typeName:l.ZodBranded,type:this,...tA(this._def)})}catch(e){return new rf({...tA(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:l.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ry.create(this,e)}readonly(){return rm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},tC=/^c[^\s-]{8,}$/i,tI=/^[0-9a-z]+$/,tj=/^[0-9A-HJKMNP-TV-Z]{26}$/,tR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tU=/^[a-z0-9_-]{21}$/i,tB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tP=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,tZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",t$=RegExp(`^${tM}$`);function tF(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function tD(e){let t=`${tM}T${tF(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}var tz=class e extends tO{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ts.string){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.string,received:t.parsedType}),ty}let t=new tg,r;for(let s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(tp(r=this._getOrReturnCtx(e,r),{code:tu.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(tp(r=this._getOrReturnCtx(e,r),{code:tu.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){let n=e.data.length>s.value,i=e.data.length<s.value;(n||i)&&(r=this._getOrReturnCtx(e,r),n?tp(r,{code:tu.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&tp(r,{code:tu.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)tL.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"email",code:tu.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)u||(u=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),u.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"emoji",code:tu.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)tR.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"uuid",code:tu.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)tU.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"nanoid",code:tu.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)tC.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"cuid",code:tu.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)tI.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"cuid2",code:tu.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)tj.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"ulid",code:tu.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch{tp(r=this._getOrReturnCtx(e,r),{validation:"url",code:tu.invalid_string,message:s.message}),t.dirty()}else{var i,a;"regex"===s.kind?(s.regex.lastIndex=0,s.regex.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"regex",code:tu.invalid_string,message:s.message}),t.dirty())):"trim"===s.kind?e.data=e.data.trim():"includes"===s.kind?e.data.includes(s.value,s.position)||(tp(r=this._getOrReturnCtx(e,r),{code:tu.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty()):"toLowerCase"===s.kind?e.data=e.data.toLowerCase():"toUpperCase"===s.kind?e.data=e.data.toUpperCase():"startsWith"===s.kind?e.data.startsWith(s.value)||(tp(r=this._getOrReturnCtx(e,r),{code:tu.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty()):"endsWith"===s.kind?e.data.endsWith(s.value)||(tp(r=this._getOrReturnCtx(e,r),{code:tu.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty()):"datetime"===s.kind?tD(s).test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{code:tu.invalid_string,validation:"datetime",message:s.message}),t.dirty()):"date"===s.kind?t$.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{code:tu.invalid_string,validation:"date",message:s.message}),t.dirty()):"time"===s.kind?RegExp(`^${tF(s)}$`).test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{code:tu.invalid_string,validation:"time",message:s.message}),t.dirty()):"duration"===s.kind?tB.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"duration",code:tu.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?(i=e.data,("v4"===(a=s.version)||!a)&&tN.test(i)||("v6"===a||!a)&&tP.test(i)||(tp(r=this._getOrReturnCtx(e,r),{validation:"ip",code:tu.invalid_string,message:s.message}),t.dirty())):"base64"===s.kind?tZ.test(e.data)||(tp(r=this._getOrReturnCtx(e,r),{validation:"base64",code:tu.invalid_string,message:s.message}),t.dirty()):n.assertNever(s)}return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:tu.invalid_string,...a.errToObj(r)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(e){return this._addCheck({kind:"email",...a.errToObj(e)})}url(e){return this._addCheck({kind:"url",...a.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...a.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...a.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...a.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...a.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...a.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...a.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...a.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...a.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:null!==(t=e?.offset)&&void 0!==t&&t,local:null!==(r=e?.local)&&void 0!==r&&r,...a.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...a.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...a.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...a.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...a.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...a.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...a.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...a.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...a.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...a.errToObj(t)})}nonempty(e){return this.min(1,a.errToObj(e))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};tz.create=e=>{var t;return new tz({checks:[],typeName:l.ZodString,coerce:null!==(t=e?.coerce)&&void 0!==t&&t,...tA(e)})};var tV=class e extends tO{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ts.number){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.number,received:t.parsedType}),ty}let t,r=new tg;for(let i of this._def.checks)"int"===i.kind?n.isInteger(e.data)||(tp(t=this._getOrReturnCtx(e,t),{code:tu.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(tp(t=this._getOrReturnCtx(e,t),{code:tu.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(tp(t=this._getOrReturnCtx(e,t),{code:tu.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,i.value)&&(tp(t=this._getOrReturnCtx(e,t),{code:tu.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(tp(t=this._getOrReturnCtx(e,t),{code:tu.not_finite,message:i.message}),r.dirty()):n.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,a.toString(t))}gt(e,t){return this.setLimit("min",e,!1,a.toString(t))}lte(e,t){return this.setLimit("max",e,!0,a.toString(t))}lt(e,t){return this.setLimit("max",e,!1,a.toString(t))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:a.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:"int",message:a.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:a.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:a.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:a.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:a.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:a.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:a.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:a.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:a.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&n.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};tV.create=e=>new tV({checks:[],typeName:l.ZodNumber,coerce:e?.coerce||!1,...tA(e)});var tK=class e extends tO{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ts.bigint){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.bigint,received:t.parsedType}),ty}let t,r=new tg;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(tp(t=this._getOrReturnCtx(e,t),{code:tu.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(tp(t=this._getOrReturnCtx(e,t),{code:tu.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(tp(t=this._getOrReturnCtx(e,t),{code:tu.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):n.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,a.toString(t))}gt(e,t){return this.setLimit("min",e,!1,a.toString(t))}lte(e,t){return this.setLimit("max",e,!0,a.toString(t))}lt(e,t){return this.setLimit("max",e,!1,a.toString(t))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:a.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:a.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:a.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:a.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:a.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:a.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};tK.create=e=>{var t;return new tK({checks:[],typeName:l.ZodBigInt,coerce:null!==(t=e?.coerce)&&void 0!==t&&t,...tA(e)})};var tW=class extends tO{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ts.boolean){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.boolean,received:t.parsedType}),ty}return tv(e.data)}};tW.create=e=>new tW({typeName:l.ZodBoolean,coerce:e?.coerce||!1,...tA(e)});var tq=class e extends tO{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ts.date){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.date,received:t.parsedType}),ty}if(isNaN(e.data.getTime()))return tp(this._getOrReturnCtx(e),{code:tu.invalid_date}),ty;let t=new tg,r;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(tp(r=this._getOrReturnCtx(e,r),{code:tu.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(tp(r=this._getOrReturnCtx(e,r),{code:tu.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):n.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:a.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:a.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};tq.create=e=>new tq({checks:[],coerce:e?.coerce||!1,typeName:l.ZodDate,...tA(e)});var tG=class extends tO{_parse(e){if(this._getType(e)!==ts.symbol){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.symbol,received:t.parsedType}),ty}return tv(e.data)}};tG.create=e=>new tG({typeName:l.ZodSymbol,...tA(e)});var tH=class extends tO{_parse(e){if(this._getType(e)!==ts.undefined){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.undefined,received:t.parsedType}),ty}return tv(e.data)}};tH.create=e=>new tH({typeName:l.ZodUndefined,...tA(e)});var tY=class extends tO{_parse(e){if(this._getType(e)!==ts.null){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.null,received:t.parsedType}),ty}return tv(e.data)}};tY.create=e=>new tY({typeName:l.ZodNull,...tA(e)});var tJ=class extends tO{constructor(){super(...arguments),this._any=!0}_parse(e){return tv(e.data)}};tJ.create=e=>new tJ({typeName:l.ZodAny,...tA(e)});var tQ=class extends tO{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tv(e.data)}};tQ.create=e=>new tQ({typeName:l.ZodUnknown,...tA(e)});var tX=class extends tO{_parse(e){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.never,received:t.parsedType}),ty}};tX.create=e=>new tX({typeName:l.ZodNever,...tA(e)});var t0=class extends tO{_parse(e){if(this._getType(e)!==ts.undefined){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.void,received:t.parsedType}),ty}return tv(e.data)}};t0.create=e=>new t0({typeName:l.ZodVoid,...tA(e)});var t1=class e extends tO{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==ts.array)return tp(t,{code:tu.invalid_type,expected:ts.array,received:t.parsedType}),ty;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(tp(t,{code:e?tu.too_big:tu.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(tp(t,{code:tu.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(tp(t,{code:tu.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new tS(t,e,t.path,r)))).then(e=>tg.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new tS(t,e,t.path,r)));return tg.mergeArray(r,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:a.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:a.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:a.toString(r)}})}nonempty(e){return this.min(1,e)}};t1.create=(e,t)=>new t1({type:e,minLength:null,maxLength:null,exactLength:null,typeName:l.ZodArray,...tA(t)});var t2=class e extends tO{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=n.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ts.object){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.object,received:t.parsedType}),ty}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof tX&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new tS(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof tX){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(tp(r,{code:tu.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new tS(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>tg.mergeObjectSync(t,e)):tg.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(t){return a.errToObj,new e({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,r)=>{var n,i,s,o;let u=null!==(s=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,e,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===e.code?{message:null!==(o=a.errToObj(t).message)&&void 0!==o?o:u}:{message:u}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:l.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return n.objectKeys(t).forEach(e=>{t[e]&&this.shape[e]&&(r[e]=this.shape[e])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return n.objectKeys(this.shape).forEach(e=>{t[e]||(r[e]=this.shape[e])}),new e({...this._def,shape:()=>r})}deepPartial(){return function e(t){if(!(t instanceof t2))return t instanceof t1?new t1({...t._def,type:e(t.element)}):t instanceof rl?rl.create(e(t.unwrap())):t instanceof rc?rc.create(e(t.unwrap())):t instanceof t4?t4.create(t.items.map(t=>e(t))):t;{let r={};for(let n in t.shape){let i=t.shape[n];r[n]=rl.create(e(i))}return new t2({...t._def,shape:()=>r})}}(this)}partial(t){let r={};return n.objectKeys(this.shape).forEach(e=>{let n=this.shape[e];t&&!t[e]?r[e]=n:r[e]=n.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return n.objectKeys(this.shape).forEach(e=>{if(t&&!t[e])r[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof rl;)t=t._def.innerType;r[e]=t}}),new e({...this._def,shape:()=>r})}keyof(){return ri(n.objectKeys(this.shape))}};t2.create=(e,t)=>new t2({shape:()=>e,unknownKeys:"strip",catchall:tX.create(),typeName:l.ZodObject,...tA(t)}),t2.strictCreate=(e,t)=>new t2({shape:()=>e,unknownKeys:"strict",catchall:tX.create(),typeName:l.ZodObject,...tA(t)}),t2.lazycreate=(e,t)=>new t2({shape:e,unknownKeys:"strip",catchall:tX.create(),typeName:l.ZodObject,...tA(t)});var t6=class extends tO{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new tl(e.ctx.common.issues));return tp(t,{code:tu.invalid_union,unionErrors:r}),ty});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new tl(e));return tp(t,{code:tu.invalid_union,unionErrors:i}),ty}}get options(){return this._def.options}};t6.create=(e,t)=>new t6({options:e,typeName:l.ZodUnion,...tA(t)});var t3=e=>e instanceof rr?t3(e.schema):e instanceof ru?t3(e.innerType()):e instanceof rn?[e.value]:e instanceof ra?e.options:e instanceof rs?n.objectValues(e.enum):e instanceof rh?t3(e._def.innerType):e instanceof tH?[void 0]:e instanceof tY?[null]:e instanceof rl?[void 0,...t3(e.unwrap())]:e instanceof rc?[null,...t3(e.unwrap())]:e instanceof rg||e instanceof rm?t3(e.unwrap()):e instanceof rf?t3(e._def.innerType):[],t5=class e extends tO{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ts.object)return tp(t,{code:tu.invalid_type,expected:ts.object,received:t.parsedType}),ty;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(tp(t,{code:tu.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ty)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let e of r){let r=t3(e.shape[t]);if(!r.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let n of r){if(i.has(n))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(n)}`);i.set(n,e)}}return new e({typeName:l.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...tA(n)})}},t8=class extends tO{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(t_(e)||t_(i))return ty;let a=function e(t,r){let i=to(t),a=to(r);if(t===r)return{valid:!0,data:t};if(i===ts.object&&a===ts.object){let i=n.objectKeys(r),a=n.objectKeys(t).filter(e=>-1!==i.indexOf(e)),s={...t,...r};for(let n of a){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(i!==ts.array||a!==ts.array)return i===ts.date&&a===ts.date&&+t==+r?{valid:!0,data:t}:{valid:!1};{if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}}(e.value,i.value);return a.valid?((tb(e)||tb(i))&&t.dirty(),{status:t.value,value:a.data}):(tp(r,{code:tu.invalid_intersection_types}),ty)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};t8.create=(e,t,r)=>new t8({left:e,right:t,typeName:l.ZodIntersection,...tA(r)});var t4=class e extends tO{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ts.array)return tp(r,{code:tu.invalid_type,expected:ts.array,received:r.parsedType}),ty;if(r.data.length<this._def.items.length)return tp(r,{code:tu.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ty;!this._def.rest&&r.data.length>this._def.items.length&&(tp(r,{code:tu.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new tS(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>tg.mergeArray(t,e)):tg.mergeArray(t,n)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};t4.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new t4({items:e,typeName:l.ZodTuple,rest:null,...tA(t)})};var t9=class e extends tO{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ts.object)return tp(r,{code:tu.invalid_type,expected:ts.object,received:r.parsedType}),ty;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new tS(r,e,r.path,e)),value:a._parse(new tS(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?tg.mergeObjectAsync(t,n):tg.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(t,r,n){return new e(r instanceof tO?{keyType:t,valueType:r,typeName:l.ZodRecord,...tA(n)}:{keyType:tz.create(),valueType:t,typeName:l.ZodRecord,...tA(r)})}},t7=class extends tO{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ts.map)return tp(r,{code:tu.invalid_type,expected:ts.map,received:r.parsedType}),ty;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new tS(r,e,r.path,[a,"key"])),value:i._parse(new tS(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return ty;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return ty;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}};t7.create=(e,t,r)=>new t7({valueType:t,keyType:e,typeName:l.ZodMap,...tA(r)});var re=class e extends tO{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ts.set)return tp(r,{code:tu.invalid_type,expected:ts.set,received:r.parsedType}),ty;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(tp(r,{code:tu.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(tp(r,{code:tu.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return ty;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new tS(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(t,r){return new e({...this._def,minSize:{value:t,message:a.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:a.toString(r)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};re.create=(e,t)=>new re({valueType:e,minSize:null,maxSize:null,typeName:l.ZodSet,...tA(t)});var rt=class e extends tO{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ts.function)return tp(t,{code:tu.invalid_type,expected:ts.function,received:t.parsedType}),ty;function r(e,r){return td({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tf(),tc].filter(e=>!!e),issueData:{code:tu.invalid_arguments,argumentsError:r}})}function n(e,r){return td({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tf(),tc].filter(e=>!!e),issueData:{code:tu.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof ro){let e=this;return tv(async function(...t){let s=new tl([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),u=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(u,i).catch(e=>{throw s.addIssue(n(u,e)),s})})}{let e=this;return tv(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new tl([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),u=e._def.returns.safeParse(o,i);if(!u.success)throw new tl([n(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:t4.create(t).rest(tQ.create())})}returns(t){return new e({...this._def,returns:t})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(t,r,n){return new e({args:t||t4.create([]).rest(tQ.create()),returns:r||tQ.create(),typeName:l.ZodFunction,...tA(n)})}},rr=class extends tO{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};rr.create=(e,t)=>new rr({getter:e,typeName:l.ZodLazy,...tA(t)});var rn=class extends tO{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return tp(t,{received:t.data,code:tu.invalid_literal,expected:this._def.value}),ty}return{status:"valid",value:e.data}}get value(){return this._def.value}};function ri(e,t){return new ra({values:e,typeName:l.ZodEnum,...tA(t)})}rn.create=(e,t)=>new rn({value:e,typeName:l.ZodLiteral,...tA(t)});var ra=class e extends tO{constructor(){super(...arguments),s.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return tp(t,{expected:n.joinValues(r),received:t.parsedType,code:tu.invalid_type}),ty}if(tE(this,s,"f")||tk(this,s,new Set(this._def.values),"f"),!tE(this,s,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return tp(t,{received:t.data,code:tu.invalid_enum_value,options:r}),ty}return tv(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(e=>!t.includes(e)),{...this._def,...r})}};s=new WeakMap,ra.create=ri;var rs=class extends tO{constructor(){super(...arguments),o.set(this,void 0)}_parse(e){let t=n.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ts.string&&r.parsedType!==ts.number){let e=n.objectValues(t);return tp(r,{expected:n.joinValues(e),received:r.parsedType,code:tu.invalid_type}),ty}if(tE(this,o,"f")||tk(this,o,new Set(n.getValidEnumValues(this._def.values)),"f"),!tE(this,o,"f").has(e.data)){let e=n.objectValues(t);return tp(r,{received:r.data,code:tu.invalid_enum_value,options:e}),ty}return tv(e.data)}get enum(){return this._def.values}};o=new WeakMap,rs.create=(e,t)=>new rs({values:e,typeName:l.ZodNativeEnum,...tA(t)});var ro=class extends tO{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==ts.promise&&!1===t.common.async?(tp(t,{code:tu.invalid_type,expected:ts.promise,received:t.parsedType}),ty):tv((t.parsedType===ts.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}};ro.create=(e,t)=>new ro({type:e,typeName:l.ZodPromise,...tA(t)});var ru=class extends tO{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===l.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{tp(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return ty;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?ty:"dirty"===n.status||"dirty"===t.value?tm(n.value):n});{if("aborted"===t.value)return ty;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?ty:"dirty"===n.status||"dirty"===t.value?tm(n.value):n}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?ty:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?ty:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===i.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>tw(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tw(e))return e;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}}n.assertNever(i)}};ru.create=(e,t,r)=>new ru({schema:e,typeName:l.ZodEffects,effect:t,...tA(r)}),ru.createWithPreprocess=(e,t,r)=>new ru({schema:t,effect:{type:"preprocess",transform:e},typeName:l.ZodEffects,...tA(r)});var rl=class extends tO{_parse(e){return this._getType(e)===ts.undefined?tv(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};rl.create=(e,t)=>new rl({innerType:e,typeName:l.ZodOptional,...tA(t)});var rc=class extends tO{_parse(e){return this._getType(e)===ts.null?tv(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};rc.create=(e,t)=>new rc({innerType:e,typeName:l.ZodNullable,...tA(t)});var rh=class extends tO{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===ts.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};rh.create=(e,t)=>new rh({innerType:e,typeName:l.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tA(t)});var rf=class extends tO{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return tx(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new tl(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new tl(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};rf.create=(e,t)=>new rf({innerType:e,typeName:l.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tA(t)});var rd=class extends tO{_parse(e){if(this._getType(e)!==ts.nan){let t=this._getOrReturnCtx(e);return tp(t,{code:tu.invalid_type,expected:ts.nan,received:t.parsedType}),ty}return{status:"valid",value:e.data}}};rd.create=e=>new rd({typeName:l.ZodNaN,...tA(e)});var rp=Symbol("zod_brand"),rg=class extends tO{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}},ry=class e extends tO{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?ty:"dirty"===e.status?(t.dirty(),tm(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?ty:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(t,r){return new e({in:t,out:r,typeName:l.ZodPipeline})}},rm=class extends tO{_parse(e){let t=this._def.innerType._parse(e);return tw(t)&&(t.value=Object.freeze(t.value)),t}unwrap(){return this._def.innerType}};function rv(e,t={},r){return e?tJ.create().superRefine((n,i)=>{var a,s;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:r)||void 0===s||s,u="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...u,fatal:o})}}):tJ.create()}rm.create=(e,t)=>new rm({innerType:e,typeName:l.ZodReadonly,...tA(t)});var r_={object:t2.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(l||(l={}));var rb=tz.create,rw=tV.create,rx=rd.create,rE=tK.create,rk=tW.create,rS=tq.create,rT=tG.create,rA=tH.create,rO=tY.create,rC=tJ.create,rI=tQ.create,rj=tX.create,rR=t0.create,rU=t1.create,rB=t2.create,rL=t2.strictCreate,rN=t6.create,rP=t5.create,rZ=t8.create,rM=t4.create,r$=t9.create,rF=t7.create,rD=re.create,rz=rt.create,rV=rr.create,rK=rn.create,rW=ra.create,rq=rs.create,rG=ro.create,rH=ru.create,rY=rl.create,rJ=rc.create,rQ=ru.createWithPreprocess,rX=ry.create,r0=Object.freeze({__proto__:null,defaultErrorMap:tc,setErrorMap:function(e){th=e},getErrorMap:tf,makeIssue:td,EMPTY_PATH:[],addIssueToContext:tp,ParseStatus:tg,INVALID:ty,DIRTY:tm,OK:tv,isAborted:t_,isDirty:tb,isValid:tw,isAsync:tx,get util(){return n},get objectUtil(){return i},ZodParsedType:ts,getParsedType:to,ZodType:tO,datetimeRegex:tD,ZodString:tz,ZodNumber:tV,ZodBigInt:tK,ZodBoolean:tW,ZodDate:tq,ZodSymbol:tG,ZodUndefined:tH,ZodNull:tY,ZodAny:tJ,ZodUnknown:tQ,ZodNever:tX,ZodVoid:t0,ZodArray:t1,ZodObject:t2,ZodUnion:t6,ZodDiscriminatedUnion:t5,ZodIntersection:t8,ZodTuple:t4,ZodRecord:t9,ZodMap:t7,ZodSet:re,ZodFunction:rt,ZodLazy:rr,ZodLiteral:rn,ZodEnum:ra,ZodNativeEnum:rs,ZodPromise:ro,ZodEffects:ru,ZodTransformer:ru,ZodOptional:rl,ZodNullable:rc,ZodDefault:rh,ZodCatch:rf,ZodNaN:rd,BRAND:rp,ZodBranded:rg,ZodPipeline:ry,ZodReadonly:rm,custom:rv,Schema:tO,ZodSchema:tO,late:r_,get ZodFirstPartyTypeKind(){return l},coerce:{string:e=>tz.create({...e,coerce:!0}),number:e=>tV.create({...e,coerce:!0}),boolean:e=>tW.create({...e,coerce:!0}),bigint:e=>tK.create({...e,coerce:!0}),date:e=>tq.create({...e,coerce:!0})},any:rC,array:rU,bigint:rE,boolean:rk,date:rS,discriminatedUnion:rP,effect:rH,enum:rW,function:rz,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>rv(t=>t instanceof e,t),intersection:rZ,lazy:rV,literal:rK,map:rF,nan:rx,nativeEnum:rq,never:rj,null:rO,nullable:rJ,number:rw,object:rB,oboolean:()=>rk().optional(),onumber:()=>rw().optional(),optional:rY,ostring:()=>rb().optional(),pipeline:rX,preprocess:rQ,promise:rG,record:r$,set:rD,strictObject:rL,string:rb,symbol:rT,transformer:rH,tuple:rM,undefined:rA,union:rN,unknown:rI,void:rR,NEVER:ty,ZodIssueCode:tu,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:tl}),r1=r0.object({url:r0.string(),address:r0.string()}),r2=r0.object({url:r0.string(),address:r0.string(),ttl:r0.coerce.number()}),r6=r0.function().args(r0.string(),r0.string()).returns(r0.promise(r0.string())),r3=r0.function().args(r0.string()).returns(r0.promise(r1.nullish())),r5=r0.function().args(r0.string(),r1,r0.number()).returns(r0.promise(r0.any())),r8=r0.function().args(r0.string()).returns(r0.promise(r2.nullish())),r4=r0.function().args(r0.string(),r0.string(),r0.number()).returns(r0.promise(r0.any())),r9=r0.function().args(r0.string()).returns(r0.promise(r2));function r7(e=""){return(e=e.trim()).endsWith("/")?r7(e.slice(0,-1)):e}function ne({cacheSize:e=100,GRAPHQL_URL:t="https://arweave.net/graphql",followRedirects:r=!1}={}){let n=function({size:e}){return new ta({max:e,maxSize:5e6,sizeCalculation:e=>JSON.stringify(e).length,allowStale:!0})}({size:e}),i=e6({fetch,GRAPHQL_URL:t}),a={getByProcess:function({cache:e}){return async t=>{if(e.max)return e.get(t)}}({cache:n}),getByOwner:function({cache:e}){return async t=>{if(e.max)return e.get(t)}}({cache:n}),setByProcess:function({cache:e}){return async(t,{url:r,address:n},i)=>{if(e.max)return e.set(t,{url:r,address:n},{ttl:i})}}({cache:n}),setByOwner:function({cache:e}){return async(t,r,n)=>{if(e.max)return e.set(t,{url:r,address:t,ttl:n},{ttl:n})}}({cache:n})};return{locate:function({loadProcessScheduler:e,loadScheduler:t,cache:r,followRedirects:n,checkForRedirect:i}){e=r9.implement(e),t=r9.implement(t),i=r6.implement(i);let a=r3.implement(r.getByProcess),s=r8.implement(r.getByOwner),o=r5.implement(r.setByProcess),u=r4.implement(r.setByOwner);return(r,l)=>a(r).then(async a=>a||Promise.resolve().then(async()=>l?await s(l)||t(l).then(e=>(u(e.address,e.url,e.ttl),e)):e(r)).then(async e=>{let t=e.url;n&&(t=await i(e.url,r));let a={url:r7(t),address:e.address};return await o(r,a,e.ttl),a}))}({loadProcessScheduler:function({fetch:e,GRAPHQL_URL:t}){let r=e2({fetch:e,GRAPHQL_URL:t}),n=e6({fetch:e,GRAPHQL_URL:t}),i=`
    query GetTransactions ($transactionIds: [ID!]!) {
      transactions(ids: $transactionIds) {
        edges {
          node {
            tags {
              name
              value
            }
          }
        }
      }
    }
  `;return async e=>r({query:i,variables:{transactionIds:[e]}}).then(eH(["data","transactions","edges","0","node"])).then(e1(`Process ${e} was not found on gateway`)).then(e0("Scheduler")).then(e=>{if(!e)throw new eQ('No "Scheduler" tag found on process');return n(e)})}({fetch,GRAPHQL_URL:t}),loadScheduler:i,cache:a,followRedirects:r,checkForRedirect:function({fetch:e}){return async(t,r)=>{let n=await e(`${t}?process-id=${r}`,{method:"GET",redirect:"manual"});return[301,302,307,308].includes(n.status)?new URL(n.headers.get("Location")).origin:t}}({fetch})}),validate:function({loadScheduler:e,cache:t}){e=r9.implement(e);let r=r8.implement(t.getByOwner),n=r4.implement(t.setByOwner);return t=>r(t).then(r=>!!r||e(t).then(e=>n(t,e.url,e.ttl)).then(()=>!0).catch(e=>{if(e instanceof eJ)return!1;throw e}))}({loadScheduler:i,cache:a}),raw:function({loadScheduler:e,cache:t}){e=r9.implement(e);let r=r8.implement(t.getByOwner),n=r4.implement(t.setByOwner);return t=>r(t).then(r=>r?{url:r.url}:e(t).then(e=>n(t,e.url,e.ttl).then(()=>({url:r7(e.url)}))).catch(e=>{if(!(e instanceof eJ))throw e}))}({loadScheduler:i,cache:a})}}var{locate:nt,validate:nr,raw:nn}=ne({GRAPHQL_URL:globalThis.GRAPHQL_URL||void 0,cacheSize:globalThis.SCHEDULER_UTILS_CACHE_SIZE||void 0,followRedirects:"true"===globalThis.SCHEDULER_UTILS_FOLLOW_REDIRECTS||void 0}),ni=e=>({fork:e,toPromise:()=>new Promise((t,r)=>e(r,t)),map:t=>ni((r,n)=>e(r,e=>n(t(e)))),bimap:(t,r)=>ni((n,i)=>e(e=>n(t(e)),e=>i(r(e)))),chain:t=>ni((r,n)=>e(r,e=>t(e).fork(r,n))),bichain:(t,r)=>ni((n,i)=>e(e=>t(e).fork(n,i),e=>r(e).fork(n,i))),fold:(t,r)=>ni((n,i)=>e(e=>t(e).fork(n,i),e=>r(e).fork(n,i)))}),na=e=>ni((t,r)=>r(e)),ns=e=>ni((t,r)=>r(e)),no=e=>ni((t,r)=>t(e)),nu=e=>(...t)=>ni((r,n)=>e(...t).then(n).catch(r)),nl=j(Z(),1),nc=({MAX_SIZE:e})=>c||(c=new nl.default(e)),nh=({logger:e,fetch:t,cache:r=c})=>async({suUrl:n,processId:i})=>r.has(i)?r.get(i):t(`${n}/processes/${i}`,{method:"GET",redirect:"follow"}).then(async t=>{if(t.ok)return t.json();throw e("Error Encountered when fetching process meta from SU '%s' for process '%s'",n,i),Error(`Encountered Error fetching scheduled messages from Scheduler Unit: ${t.status}: ${await t.text()}`)}).then(t=>(e("Caching process meta for process '%s'",i),r.set(i,{tags:t.tags}),t)),nf=function(){return!1},nd=function(){return!0},np={"@@functional/placeholder":!0};function ng(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function ny(e){return function t(r){return 0==arguments.length||ng(r)?t:e.apply(this,arguments)}}function nm(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return ng(r)?t:ny(function(t){return e(r,t)});default:return ng(r)&&ng(n)?t:ng(r)?ny(function(t){return e(t,n)}):ng(n)?ny(function(t){return e(r,t)}):e(r,n)}}}function nv(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,i){return t.apply(this,arguments)};case 5:return function(e,r,n,i,a){return t.apply(this,arguments)};case 6:return function(e,r,n,i,a,s){return t.apply(this,arguments)};case 7:return function(e,r,n,i,a,s,o){return t.apply(this,arguments)};case 8:return function(e,r,n,i,a,s,o,u){return t.apply(this,arguments)};case 9:return function(e,r,n,i,a,s,o,u,l){return t.apply(this,arguments)};case 10:return function(e,r,n,i,a,s,o,u,l,c){return t.apply(this,arguments)};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten")}}var n_=nm(function(e,t){return 1===e?ny(t):nv(e,function e(t,r,n){return function(){for(var i,a=[],s=0,o=t,u=0,l=!1;u<r.length||s<arguments.length;)u<r.length&&(!ng(r[u])||s>=arguments.length)?i=r[u]:(i=arguments[s],s+=1),a[u]=i,ng(i)?l=!0:o-=1,u+=1;return!l&&o<=0?n.apply(this,a):nv(Math.max(0,o),e(t,a,n))}}(e,[],t))});function nb(e){return function t(r,n,i){switch(arguments.length){case 0:return t;case 1:return ng(r)?t:nm(function(t,n){return e(r,t,n)});case 2:return ng(r)&&ng(n)?t:ng(r)?nm(function(t,r){return e(t,n,r)}):ng(n)?nm(function(t,n){return e(r,t,n)}):ny(function(t){return e(r,n,t)});default:return ng(r)&&ng(n)&&ng(i)?t:ng(r)&&ng(n)?nm(function(t,r){return e(t,r,i)}):ng(r)&&ng(i)?nm(function(t,r){return e(t,n,r)}):ng(n)&&ng(i)?nm(function(t,n){return e(r,t,n)}):ng(r)?ny(function(t){return e(t,n,i)}):ng(n)?ny(function(t){return e(r,t,i)}):ng(i)?ny(function(t){return e(r,n,t)}):e(r,n,i)}}}var nw=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function nx(e,t,r){return function(){if(0==arguments.length)return r();var n=arguments[arguments.length-1];if(!nw(n)){for(var i=0;i<e.length;){if("function"==typeof n[e[i]])return n[e[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(null!=n&&"function"==typeof n["@@transducer/step"]){var a=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(n)}}return r.apply(this,arguments)}}var nE={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function nk(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function nS(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}function nT(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var nA="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},nO=Object.prototype.toString,nC=function(){return"[object Arguments]"===nO.call(arguments)?function(e){return"[object Arguments]"===nO.call(e)}:function(e){return nT("callee",e)}}(),nI=!({toString:null}).propertyIsEnumerable("toString"),nj=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],nR=function(){return arguments.propertyIsEnumerable("length")}(),nU=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},nB="function"!=typeof Object.keys||nR?ny(function(e){if(Object(e)!==e)return[];var t,r,n=[],i=nR&&nC(e);for(t in e)nT(t,e)&&(!i||"length"!==t)&&(n[n.length]=t);if(nI)for(r=nj.length-1;r>=0;)nT(t=nj[r],e)&&!nU(n,t)&&(n[n.length]=t),r-=1;return n}):ny(function(e){return Object(e)!==e?[]:Object.keys(e)}),nL=ny(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function nN(e,t,r,n){var i=nk(e);function a(e,t){return nP(e,t,r.slice(),n.slice())}return!nS(function(e,t){return!nS(a,t,e)},nk(t),i)}function nP(e,t,r,n){if(nA(e,t))return!0;var i,a=nL(e);if(a!==nL(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(null==(i=String(e.constructor).match(/^function (\w*)/))?"":i[1]))return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&nA(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!nA(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1}for(var s=r.length-1;s>=0;){if(r[s]===e)return n[s]===t;s-=1}switch(a){case"Map":if(e.size!==t.size)return!1;return nN(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":if(e.size!==t.size)return!1;return nN(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=nB(e);if(o.length!==nB(t).length)return!1;var u=r.concat([e]),l=n.concat([t]);for(s=o.length-1;s>=0;){var c=o[s];if(!(nT(c,t)&&nP(t[c],e[c],u,l)))return!1;s-=1}return!0}var nZ=nm(function(e,t){return nP(e,t,[],[])});function nM(e,t){return function(e,t,r){var n,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;r<e.length;){if(0===(i=e[r])&&1/i===n)return r;r+=1}return -1}if(t!=t){for(;r<e.length;){if("number"==typeof(i=e[r])&&i!=i)return r;r+=1}return -1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if(nZ(e[r],t))return r;r+=1}return -1}(t,e,0)>=0}function n$(e,t){for(var r=0,n=t.length,i=Array(n);r<n;)i[r]=e(t[r]),r+=1;return i}function nF(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var nD=function(e){return(e<10?"0":"")+e},nz="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+nD(e.getUTCMonth()+1)+"-"+nD(e.getUTCDate())+"T"+nD(e.getUTCHours())+":"+nD(e.getUTCMinutes())+":"+nD(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function nV(e,t,r){for(var n=0,i=r.length;n<i;)t=e(t,r[n]),n+=1;return t}var nK=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=nE.init,e.prototype["@@transducer/result"]=nE.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),nW=nm(nx(["fantasy-land/filter","filter"],function(e){return function(t){return new nK(e,t)}},function(e,t){return"[object Object]"===Object.prototype.toString.call(t)?nV(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},nB(t)):function(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i}(e,t)})),nq=nm(function(e,t){return nW(function(){return!e.apply(this,arguments)},t)}),nG=ny(function(e){return function e(t,r){var n=function(n){var i=r.concat([t]);return nM(n,i)?"<Circular>":e(n,i)},i=function(e,t){return n$(function(t){return nF(t)+": "+n(e[t])},t.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+n$(n,t).join(", ")+"))";case"[object Array]":return"["+n$(n,t).concat(i(t,nq(function(e){return/^\d+$/.test(e)},nB(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):nF(nz(t)))+")";case"[object Map]":return"new Map("+n(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+n(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+n(Array.from(t).sort())+")";case"[object String]":return"object"==typeof t?"new String("+n(t.valueOf())+")":nF(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var a=t.toString();if("[object Object]"!==a)return a}return"{"+i(t,nB(t)).join(", ")+"}"}}(e,[])}),nH=nm(function(e,t){if(e===t)return t;function r(e,t){if(e>t!=t>e)return t>e?t:e}var n=r(e,t);if(void 0!==n)return n;var i=r(typeof e,typeof t);if(void 0!==i)return i===typeof e?e:t;var a=nG(e),s=r(a,nG(t));return void 0!==s&&s===a?e:t}),nY=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=nE.init,e.prototype["@@transducer/result"]=nE.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),nJ=function(e){return function(t){return new nY(e,t)}},nQ=nm(nx(["fantasy-land/map","map"],nJ,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return n_(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return nV(function(r,n){return r[n]=e(t[n]),r},{},nB(t));default:return n$(e,t)}})),nX=Number.isInteger||function(e){return e<<0===e};function n0(e){return"[object String]"===Object.prototype.toString.call(e)}function n1(e,t){var r=e<0?t.length+e:e;return n0(t)?t.charAt(r):t[r]}var n2=nm(function(e,t){if(null!=t)return nX(e)?n1(e,t):t[e]}),n6=nm(function(e,t){return nQ(n2(e),t)}),n3=ny(function(e){return!!nw(e)||!(!e||"object"!=typeof e||n0(e))&&(0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}),n5="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function n8(e,t,r){for(var n=0,i=r.length;n<i;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}var n4=nm(function(e,t){return nv(e.length,function(){return e.apply(t,arguments)})}),n9=function(e,t,r){return function(n,i,a){if(n3(a))return e(n,i,a);if(null==a)return i;if("function"==typeof a["fantasy-land/reduce"])return t(n,i,a,"fantasy-land/reduce");if(null!=a[n5])return r(n,i,a[n5]());if("function"==typeof a.next)return r(n,i,a);if("function"==typeof a.reduce)return t(n,i,a,"reduce");throw TypeError("reduce: list must be array or iterable")}}(n8,function(e,t,r,n){return e["@@transducer/result"](r[n](n4(e["@@transducer/step"],e),t))},function(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}),n7=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}(),ie=nb(function(e,t,r){return n9("function"==typeof e?new n7(e):e,t,r)}),it=ny(function(e){return n_(ie(nH,0,n6("length",e)),function(){for(var t=0,r=e.length;t<r;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0})}),ir=ny(function(e){return function(){return e}}),ii=nm(function(e,t){return function(e,t){t=t||[];var r,n=(e=e||[]).length,i=t.length,a=[];for(r=0;r<n;)a[a.length]=e[r],r+=1;for(r=0;r<i;)a[a.length]=t[r],r+=1;return a}(t,[e])}),ia=ny(function(e){return null==e}),is=nb(function e(t,r,n){if(0===t.length)return r;var i=t[0];if(t.length>1){var a=!ia(n)&&nT(i,n)&&"object"==typeof n[i]?n[i]:nX(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,a)}return function(e,t,r){if(nX(e)&&nw(r)){var n=[].concat(r);return n[e]=t,n}var i={};for(var a in r)i[a]=r[a];return i[e]=t,i}(i,r,n)}),io=nb(function(e,t,r){return is([e],t,r)});function iu(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}var il="@@transducer/init",ic="@@transducer/step",ih="@@transducer/result",id=function(){function e(e){this.xf=e}return e.prototype[il]=nE.init,e.prototype[ih]=nE.result,e.prototype[ic]=function(e,t){var r=this.xf[ic](e,t);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r},e}(),ip=function(){function e(e){this.xf=new id(e)}return e.prototype[il]=nE.init,e.prototype[ih]=nE.result,e.prototype[ic]=function(e,t){return n3(t)?n9(this.xf,e,t):n8(this.xf,e,[t])},e}(),ig=nm(nx(["fantasy-land/chain","chain"],function(e){return function(t){return nJ(e)(new ip(t))}},function(e,t){return"function"==typeof t?function(r){return e(t(r))(r)}:function(e){for(var t,r,n,i=[],a=0,s=e.length;a<s;){if(n3(e[a]))for(t=e[a],n=0,r=t.length;n<r;)i[i.length]=t[n],n+=1;else i[i.length]=e[a];a+=1}return i}(nQ(e,t))}));function iy(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function im(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return nw(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var iv=nb(im("slice",function(e,t,r){return Array.prototype.slice.call(r,e,t)})),i_=ny(im("tail",iv(1,1/0)));function ib(){if(0==arguments.length)throw Error("pipe requires at least one argument");return nv(arguments[0].length,ie(iy,arguments[0],i_(arguments)))}var iw=ny(function(e){return e}),ix=nm(function(e,t){if(nw(e)){if(nw(t))return e.concat(t);throw TypeError(nG(t)+" is not an array")}if(n0(e)){if(n0(t))return e+t;throw TypeError(nG(t)+" is not a string")}if(null!=e&&iu(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&iu(e.concat))return e.concat(t);throw TypeError(nG(e)+' does not have a method named "concat" or "fantasy-land/concat"')}),iE=ny(function(e){return nv(ie(nH,0,nQ(function(e){return e[0].length},e)),function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}})}),ik=nm(function(e,t){return null==t||t!=t?e:t}),iS=nm(function(e,t){if(0===e.length||ia(t))return!1;for(var r=t,n=0;n<e.length;){if(!(!ia(r)&&nT(e[n],r)))return!1;r=r[e[n]],n+=1}return!0}),iT=nm(function(e,t){return iS([e],t)}),iA=nb(function(e,t,r){return n_(Math.max(e.length,t.length,r.length),function(){return e.apply(this,arguments)?t.apply(this,arguments):r.apply(this,arguments)})}),iO=nm(nM),iC=nm(function(e,t){return n_(e+1,function(){var r=arguments[e];if(null!=r&&iu(r[t]))return r[t].apply(r,Array.prototype.slice.call(arguments,0,e));throw TypeError(nG(r)+' does not have a method named "'+t+'"')})}),iI=nm(function(e,t){return t instanceof e||null!=t&&(t.constructor===e||"Object"===e.name&&"object"==typeof t)}),ij=ny(function(e){return!ia(e)}),iR=iC(1,"join"),iU=nm(function(e,t){for(var r=t,n=0;n<e.length;n+=1){if(null==r)return;var i=e[n];r=nX(i)?n1(i,r):r[i]}return r}),iB=nb(function(e,t,r){return nZ(e,n2(t,r))}),iL=nb(function(e,t,r){return ik(e,n2(t,r))}),iN=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=nE.init,e.prototype["@@transducer/result"]=nE.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}(),iP=nm(nx([],function(e){return function(t){return new iN(e,t)}},function(e,t){return e(t),t}));!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(h||(h={})),(f||(f={})).mergeShapes=(e,t)=>({...e,...t});var iZ=h.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),iM=e=>{switch(typeof e){case"undefined":return iZ.undefined;case"string":return iZ.string;case"number":return isNaN(e)?iZ.nan:iZ.number;case"boolean":return iZ.boolean;case"function":return iZ.function;case"bigint":return iZ.bigint;case"symbol":return iZ.symbol;case"object":if(Array.isArray(e))return iZ.array;if(null===e)return iZ.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return iZ.promise;if("undefined"!=typeof Map&&e instanceof Map)return iZ.map;if("undefined"!=typeof Set&&e instanceof Set)return iZ.set;if("undefined"!=typeof Date&&e instanceof Date)return iZ.date;return iZ.object;default:return iZ.unknown}},i$=h.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),iF=class e extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(t){if(!(t instanceof e))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,h.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};iF.create=e=>new iF(e);var iD=(e,t)=>{let r;switch(e.code){case i$.invalid_type:r=e.received===iZ.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case i$.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,h.jsonStringifyReplacer)}`;break;case i$.unrecognized_keys:r=`Unrecognized key(s) in object: ${h.joinValues(e.keys,", ")}`;break;case i$.invalid_union:r="Invalid input";break;case i$.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${h.joinValues(e.options)}`;break;case i$.invalid_enum_value:r=`Invalid enum value. Expected ${h.joinValues(e.options)}, received '${e.received}'`;break;case i$.invalid_arguments:r="Invalid function arguments";break;case i$.invalid_return_type:r="Invalid function return type";break;case i$.invalid_date:r="Invalid date";break;case i$.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:h.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case i$.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case i$.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case i$.custom:r="Invalid input";break;case i$.invalid_intersection_types:r="Intersection results could not be merged";break;case i$.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case i$.not_finite:r="Number must be finite";break;default:r=t.defaultError,h.assertNever(e)}return{message:r}},iz=iD;function iV(){return iz}var iK=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function iW(e,t){let r=iV(),n=iK({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===iD?void 0:iD].filter(e=>!!e)});e.common.issues.push(n)}var iq=class e{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return iG;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(t,r){let n=[];for(let e of r){let t=await e.key,r=await e.value;n.push({key:t,value:r})}return e.mergeObjectSync(t,n)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return iG;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}},iG=Object.freeze({status:"aborted"}),iH=e=>({status:"dirty",value:e}),iY=e=>({status:"valid",value:e}),iJ=e=>"aborted"===e.status,iQ=e=>"dirty"===e.status,iX=e=>"valid"===e.status,i0=e=>"undefined"!=typeof Promise&&e instanceof Promise;function i1(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function i2(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(d||(d={}));var i6=class{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},i3=(e,t)=>{if(iX(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new iF(e.common.issues);return this._error=t,this._error}}};function i5(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var a,s;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!==(a=null!=o?o:n)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!=o?o:r)&&void 0!==s?s:i.defaultError}},description:i}}var i8=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return iM(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:iM(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new iq,ctx:{common:e.parent.common,data:e.data,parsedType:iM(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(i0(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:iM(e)},i=this._parseSync({data:e,path:n.path,parent:n});return i3(n,i)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:iM(e)},n=this._parse({data:e,path:r.path,parent:r});return i3(r,await (i0(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:i$.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new a$({schema:this,typeName:m.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return aF.create(this,this._def)}nullable(){return aD.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return aE.create(this,this._def)}promise(){return aM.create(this,this._def)}or(e){return aS.create([this,e],this._def)}and(e){return aO.create(this,e,this._def)}transform(e){return new a$({...i5(this._def),schema:this,typeName:m.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new az({...i5(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:m.ZodDefault})}brand(){return new aq({typeName:m.ZodBranded,type:this,...i5(this._def)})}catch(e){return new aV({...i5(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:m.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return aG.create(this,e)}readonly(){return aH.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},i4=/^c[^\s-]{8,}$/i,i9=/^[0-9a-z]+$/,i7=/^[0-9A-HJKMNP-TV-Z]{26}$/,ae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,at=/^[a-z0-9_-]{21}$/i,ar=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,an=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ai=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,as=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ao="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",au=RegExp(`^${ao}$`);function al(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ac(e){let t=`${ao}T${al(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}var ah=class e extends i8{_parse(e){var t,r;let n;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==iZ.string){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.string,received:t.parsedType}),iG}let i=new iq;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(iW(n=this._getOrReturnCtx(e,n),{code:i$.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("max"===a.kind)e.data.length>a.value&&(iW(n=this._getOrReturnCtx(e,n),{code:i$.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("length"===a.kind){let t=e.data.length>a.value,r=e.data.length<a.value;(t||r)&&(n=this._getOrReturnCtx(e,n),t?iW(n,{code:i$.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):r&&iW(n,{code:i$.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if("email"===a.kind)an.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"email",code:i$.invalid_string,message:a.message}),i.dirty());else if("emoji"===a.kind)y||(y=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),y.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"emoji",code:i$.invalid_string,message:a.message}),i.dirty());else if("uuid"===a.kind)ae.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"uuid",code:i$.invalid_string,message:a.message}),i.dirty());else if("nanoid"===a.kind)at.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"nanoid",code:i$.invalid_string,message:a.message}),i.dirty());else if("cuid"===a.kind)i4.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"cuid",code:i$.invalid_string,message:a.message}),i.dirty());else if("cuid2"===a.kind)i9.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"cuid2",code:i$.invalid_string,message:a.message}),i.dirty());else if("ulid"===a.kind)i7.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"ulid",code:i$.invalid_string,message:a.message}),i.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(t){iW(n=this._getOrReturnCtx(e,n),{validation:"url",code:i$.invalid_string,message:a.message}),i.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"regex",code:i$.invalid_string,message:a.message}),i.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(iW(n=this._getOrReturnCtx(e,n),{code:i$.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(iW(n=this._getOrReturnCtx(e,n),{code:i$.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(iW(n=this._getOrReturnCtx(e,n),{code:i$.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):"datetime"===a.kind?ac(a).test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{code:i$.invalid_string,validation:"datetime",message:a.message}),i.dirty()):"date"===a.kind?au.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{code:i$.invalid_string,validation:"date",message:a.message}),i.dirty()):"time"===a.kind?RegExp(`^${al(a)}$`).test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{code:i$.invalid_string,validation:"time",message:a.message}),i.dirty()):"duration"===a.kind?ar.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"duration",code:i$.invalid_string,message:a.message}),i.dirty()):"ip"===a.kind?(t=e.data,("v4"===(r=a.version)||!r)&&ai.test(t)||("v6"===r||!r)&&aa.test(t)||(iW(n=this._getOrReturnCtx(e,n),{validation:"ip",code:i$.invalid_string,message:a.message}),i.dirty())):"base64"===a.kind?as.test(e.data)||(iW(n=this._getOrReturnCtx(e,n),{validation:"base64",code:i$.invalid_string,message:a.message}),i.dirty()):h.assertNever(a);return{status:i.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:i$.invalid_string,...d.errToObj(r)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(e){return this._addCheck({kind:"email",...d.errToObj(e)})}url(e){return this._addCheck({kind:"url",...d.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...d.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...d.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...d.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...d.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...d.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...d.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...d.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...d.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...d.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...d.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...d.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...d.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...d.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...d.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...d.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...d.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...d.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...d.errToObj(t)})}nonempty(e){return this.min(1,d.errToObj(e))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};ah.create=e=>{var t;return new ah({checks:[],typeName:m.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...i5(e)})};var af=class e extends i8{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==iZ.number){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.number,received:t.parsedType}),iG}let r=new iq;for(let n of this._def.checks)"int"===n.kind?h.isInteger(e.data)||(iW(t=this._getOrReturnCtx(e,t),{code:i$.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(iW(t=this._getOrReturnCtx(e,t),{code:i$.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(iW(t=this._getOrReturnCtx(e,t),{code:i$.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,n.value)&&(iW(t=this._getOrReturnCtx(e,t),{code:i$.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(iW(t=this._getOrReturnCtx(e,t),{code:i$.not_finite,message:n.message}),r.dirty()):h.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:d.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:"int",message:d.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:d.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&h.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};af.create=e=>new af({checks:[],typeName:m.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...i5(e)});var ad=class e extends i8{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==iZ.bigint){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.bigint,received:t.parsedType}),iG}let r=new iq;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(iW(t=this._getOrReturnCtx(e,t),{code:i$.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(iW(t=this._getOrReturnCtx(e,t),{code:i$.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(iW(t=this._getOrReturnCtx(e,t),{code:i$.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):h.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:d.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};ad.create=e=>{var t;return new ad({checks:[],typeName:m.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...i5(e)})};var ap=class extends i8{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==iZ.boolean){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.boolean,received:t.parsedType}),iG}return iY(e.data)}};ap.create=e=>new ap({typeName:m.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...i5(e)});var ag=class e extends i8{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==iZ.date){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.date,received:t.parsedType}),iG}if(isNaN(e.data.getTime()))return iW(this._getOrReturnCtx(e),{code:i$.invalid_date}),iG;let r=new iq;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(iW(t=this._getOrReturnCtx(e,t),{code:i$.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(iW(t=this._getOrReturnCtx(e,t),{code:i$.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):h.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:d.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:d.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};ag.create=e=>new ag({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:m.ZodDate,...i5(e)});var ay=class extends i8{_parse(e){if(this._getType(e)!==iZ.symbol){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.symbol,received:t.parsedType}),iG}return iY(e.data)}};ay.create=e=>new ay({typeName:m.ZodSymbol,...i5(e)});var am=class extends i8{_parse(e){if(this._getType(e)!==iZ.undefined){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.undefined,received:t.parsedType}),iG}return iY(e.data)}};am.create=e=>new am({typeName:m.ZodUndefined,...i5(e)});var av=class extends i8{_parse(e){if(this._getType(e)!==iZ.null){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.null,received:t.parsedType}),iG}return iY(e.data)}};av.create=e=>new av({typeName:m.ZodNull,...i5(e)});var a_=class extends i8{constructor(){super(...arguments),this._any=!0}_parse(e){return iY(e.data)}};a_.create=e=>new a_({typeName:m.ZodAny,...i5(e)});var ab=class extends i8{constructor(){super(...arguments),this._unknown=!0}_parse(e){return iY(e.data)}};ab.create=e=>new ab({typeName:m.ZodUnknown,...i5(e)});var aw=class extends i8{_parse(e){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.never,received:t.parsedType}),iG}};aw.create=e=>new aw({typeName:m.ZodNever,...i5(e)});var ax=class extends i8{_parse(e){if(this._getType(e)!==iZ.undefined){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.void,received:t.parsedType}),iG}return iY(e.data)}};ax.create=e=>new ax({typeName:m.ZodVoid,...i5(e)});var aE=class e extends i8{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==iZ.array)return iW(t,{code:i$.invalid_type,expected:iZ.array,received:t.parsedType}),iG;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(iW(t,{code:e?i$.too_big:i$.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(iW(t,{code:i$.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(iW(t,{code:i$.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new i6(t,e,t.path,r)))).then(e=>iq.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new i6(t,e,t.path,r)));return iq.mergeArray(r,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:d.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:d.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:d.toString(r)}})}nonempty(e){return this.min(1,e)}};aE.create=(e,t)=>new aE({type:e,minLength:null,maxLength:null,exactLength:null,typeName:m.ZodArray,...i5(t)});var ak=class e extends i8{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=h.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==iZ.object){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.object,received:t.parsedType}),iG}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof aw&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new i6(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof aw){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(iW(r,{code:i$.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new i6(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>iq.mergeObjectSync(t,e)):iq.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(t){return d.errToObj,new e({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,r)=>{var n,i,a,s;let o=null!==(a=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,e,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===e.code?{message:null!==(s=d.errToObj(t).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:m.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return h.objectKeys(t).forEach(e=>{t[e]&&this.shape[e]&&(r[e]=this.shape[e])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return h.objectKeys(this.shape).forEach(e=>{t[e]||(r[e]=this.shape[e])}),new e({...this._def,shape:()=>r})}deepPartial(){return function e(t){if(t instanceof ak){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=aF.create(e(i))}return new ak({...t._def,shape:()=>r})}return t instanceof aE?new aE({...t._def,type:e(t.element)}):t instanceof aF?aF.create(e(t.unwrap())):t instanceof aD?aD.create(e(t.unwrap())):t instanceof aC?aC.create(t.items.map(t=>e(t))):t}(this)}partial(t){let r={};return h.objectKeys(this.shape).forEach(e=>{let n=this.shape[e];t&&!t[e]?r[e]=n:r[e]=n.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return h.objectKeys(this.shape).forEach(e=>{if(t&&!t[e])r[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof aF;)t=t._def.innerType;r[e]=t}}),new e({...this._def,shape:()=>r})}keyof(){return aN(h.objectKeys(this.shape))}};ak.create=(e,t)=>new ak({shape:()=>e,unknownKeys:"strip",catchall:aw.create(),typeName:m.ZodObject,...i5(t)}),ak.strictCreate=(e,t)=>new ak({shape:()=>e,unknownKeys:"strict",catchall:aw.create(),typeName:m.ZodObject,...i5(t)}),ak.lazycreate=(e,t)=>new ak({shape:e,unknownKeys:"strip",catchall:aw.create(),typeName:m.ZodObject,...i5(t)});var aS=class extends i8{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new iF(e.ctx.common.issues));return iW(t,{code:i$.invalid_union,unionErrors:r}),iG});{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new iF(e));return iW(t,{code:i$.invalid_union,unionErrors:i}),iG}}get options(){return this._def.options}};aS.create=(e,t)=>new aS({options:e,typeName:m.ZodUnion,...i5(t)});var aT=e=>{if(e instanceof aB)return aT(e.schema);if(e instanceof a$)return aT(e.innerType());if(e instanceof aL)return[e.value];if(e instanceof aP)return e.options;if(e instanceof aZ)return h.objectValues(e.enum);if(e instanceof az)return aT(e._def.innerType);if(e instanceof am)return[void 0];else if(e instanceof av)return[null];else if(e instanceof aF)return[void 0,...aT(e.unwrap())];else if(e instanceof aD)return[null,...aT(e.unwrap())];else if(e instanceof aq)return aT(e.unwrap());else if(e instanceof aH)return aT(e.unwrap());else if(e instanceof aV)return aT(e._def.innerType);else return[]},aA=class e extends i8{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==iZ.object)return iW(t,{code:i$.invalid_type,expected:iZ.object,received:t.parsedType}),iG;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(iW(t,{code:i$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),iG)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let e of r){let r=aT(e.shape[t]);if(!r.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let n of r){if(i.has(n))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(n)}`);i.set(n,e)}}return new e({typeName:m.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...i5(n)})}},aO=class extends i8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(iJ(e)||iJ(n))return iG;let i=function e(t,r){let n=iM(t),i=iM(r);if(t===r)return{valid:!0,data:t};if(n===iZ.object&&i===iZ.object){let n=h.objectKeys(r),i=h.objectKeys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};a[n]=i.data}return{valid:!0,data:a}}if(n===iZ.array&&i===iZ.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===iZ.date&&i===iZ.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return i.valid?((iQ(e)||iQ(n))&&t.dirty(),{status:t.value,value:i.data}):(iW(r,{code:i$.invalid_intersection_types}),iG)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};aO.create=(e,t,r)=>new aO({left:e,right:t,typeName:m.ZodIntersection,...i5(r)});var aC=class e extends i8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==iZ.array)return iW(r,{code:i$.invalid_type,expected:iZ.array,received:r.parsedType}),iG;if(r.data.length<this._def.items.length)return iW(r,{code:i$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),iG;!this._def.rest&&r.data.length>this._def.items.length&&(iW(r,{code:i$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new i6(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>iq.mergeArray(t,e)):iq.mergeArray(t,n)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};aC.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new aC({items:e,typeName:m.ZodTuple,rest:null,...i5(t)})};var aI=class e extends i8{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==iZ.object)return iW(r,{code:i$.invalid_type,expected:iZ.object,received:r.parsedType}),iG;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new i6(r,e,r.path,e)),value:a._parse(new i6(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?iq.mergeObjectAsync(t,n):iq.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(t,r,n){return new e(r instanceof i8?{keyType:t,valueType:r,typeName:m.ZodRecord,...i5(n)}:{keyType:ah.create(),valueType:t,typeName:m.ZodRecord,...i5(r)})}},aj=class extends i8{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==iZ.map)return iW(r,{code:i$.invalid_type,expected:iZ.map,received:r.parsedType}),iG;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new i6(r,e,r.path,[a,"key"])),value:i._parse(new i6(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return iG;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return iG;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}};aj.create=(e,t,r)=>new aj({valueType:t,keyType:e,typeName:m.ZodMap,...i5(r)});var aR=class e extends i8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==iZ.set)return iW(r,{code:i$.invalid_type,expected:iZ.set,received:r.parsedType}),iG;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(iW(r,{code:i$.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(iW(r,{code:i$.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return iG;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new i6(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(t,r){return new e({...this._def,minSize:{value:t,message:d.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:d.toString(r)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};aR.create=(e,t)=>new aR({valueType:e,minSize:null,maxSize:null,typeName:m.ZodSet,...i5(t)});var aU=class e extends i8{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==iZ.function)return iW(t,{code:i$.invalid_type,expected:iZ.function,received:t.parsedType}),iG;function r(e,r){return iK({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,iV(),iD].filter(e=>!!e),issueData:{code:i$.invalid_arguments,argumentsError:r}})}function n(e,r){return iK({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,iV(),iD].filter(e=>!!e),issueData:{code:i$.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof aM){let e=this;return iY(async function(...t){let s=new iF([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),u=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(u,i).catch(e=>{throw s.addIssue(n(u,e)),s})})}{let e=this;return iY(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new iF([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),u=e._def.returns.safeParse(o,i);if(!u.success)throw new iF([n(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:aC.create(t).rest(ab.create())})}returns(t){return new e({...this._def,returns:t})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(t,r,n){return new e({args:t||aC.create([]).rest(ab.create()),returns:r||ab.create(),typeName:m.ZodFunction,...i5(n)})}},aB=class extends i8{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};aB.create=(e,t)=>new aB({getter:e,typeName:m.ZodLazy,...i5(t)});var aL=class extends i8{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return iW(t,{received:t.data,code:i$.invalid_literal,expected:this._def.value}),iG}return{status:"valid",value:e.data}}get value(){return this._def.value}};function aN(e,t){return new aP({values:e,typeName:m.ZodEnum,...i5(t)})}aL.create=(e,t)=>new aL({value:e,typeName:m.ZodLiteral,...i5(t)});var aP=class e extends i8{constructor(){super(...arguments),p.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return iW(t,{expected:h.joinValues(r),received:t.parsedType,code:i$.invalid_type}),iG}if(i1(this,p,"f")||i2(this,p,new Set(this._def.values),"f"),!i1(this,p,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return iW(t,{received:t.data,code:i$.invalid_enum_value,options:r}),iG}return iY(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(e=>!t.includes(e)),{...this._def,...r})}};p=new WeakMap,aP.create=aN;var aZ=class extends i8{constructor(){super(...arguments),g.set(this,void 0)}_parse(e){let t=h.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==iZ.string&&r.parsedType!==iZ.number){let e=h.objectValues(t);return iW(r,{expected:h.joinValues(e),received:r.parsedType,code:i$.invalid_type}),iG}if(i1(this,g,"f")||i2(this,g,new Set(h.getValidEnumValues(this._def.values)),"f"),!i1(this,g,"f").has(e.data)){let e=h.objectValues(t);return iW(r,{received:r.data,code:i$.invalid_enum_value,options:e}),iG}return iY(e.data)}get enum(){return this._def.values}};g=new WeakMap,aZ.create=(e,t)=>new aZ({values:e,typeName:m.ZodNativeEnum,...i5(t)});var aM=class extends i8{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==iZ.promise&&!1===t.common.async?(iW(t,{code:i$.invalid_type,expected:iZ.promise,received:t.parsedType}),iG):iY((t.parsedType===iZ.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}};aM.create=(e,t)=>new aM({type:e,typeName:m.ZodPromise,...i5(t)});var a$=class extends i8{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===m.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{iW(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return iG;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?iG:"dirty"===n.status||"dirty"===t.value?iH(n.value):n});{if("aborted"===t.value)return iG;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?iG:"dirty"===n.status||"dirty"===t.value?iH(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?iG:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?iG:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>iX(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!iX(e))return e;let a=n.transform(e.value,i);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}h.assertNever(n)}};a$.create=(e,t,r)=>new a$({schema:e,typeName:m.ZodEffects,effect:t,...i5(r)}),a$.createWithPreprocess=(e,t,r)=>new a$({schema:t,effect:{type:"preprocess",transform:e},typeName:m.ZodEffects,...i5(r)});var aF=class extends i8{_parse(e){return this._getType(e)===iZ.undefined?iY(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};aF.create=(e,t)=>new aF({innerType:e,typeName:m.ZodOptional,...i5(t)});var aD=class extends i8{_parse(e){return this._getType(e)===iZ.null?iY(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};aD.create=(e,t)=>new aD({innerType:e,typeName:m.ZodNullable,...i5(t)});var az=class extends i8{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===iZ.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};az.create=(e,t)=>new az({innerType:e,typeName:m.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...i5(t)});var aV=class extends i8{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return i0(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new iF(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new iF(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};aV.create=(e,t)=>new aV({innerType:e,typeName:m.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...i5(t)});var aK=class extends i8{_parse(e){if(this._getType(e)!==iZ.nan){let t=this._getOrReturnCtx(e);return iW(t,{code:i$.invalid_type,expected:iZ.nan,received:t.parsedType}),iG}return{status:"valid",value:e.data}}};aK.create=e=>new aK({typeName:m.ZodNaN,...i5(e)});var aW=Symbol("zod_brand"),aq=class extends i8{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}},aG=class e extends i8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?iG:"dirty"===e.status?(t.dirty(),iH(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?iG:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(t,r){return new e({in:t,out:r,typeName:m.ZodPipeline})}},aH=class extends i8{_parse(e){let t=this._def.innerType._parse(e),r=e=>(iX(e)&&(e.value=Object.freeze(e.value)),e);return i0(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}};function aY(e,t={},r){return e?a_.create().superRefine((n,i)=>{var a,s;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:r)||void 0===s||s,u="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...u,fatal:o})}}):a_.create()}aH.create=(e,t)=>new aH({innerType:e,typeName:m.ZodReadonly,...i5(t)});var aJ={object:ak.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(m||(m={}));var aQ=ah.create,aX=af.create,a0=aK.create,a1=ad.create,a2=ap.create,a6=ag.create,a3=ay.create,a5=am.create,a8=av.create,a4=a_.create,a9=ab.create,a7=aw.create,se=ax.create,st=aE.create,sr=ak.create,sn=ak.strictCreate,si=aS.create,sa=aA.create,ss=aO.create,so=aC.create,su=aI.create,sl=aj.create,sc=aR.create,sh=aU.create,sf=aB.create,sd=aL.create,sp=aP.create,sg=aZ.create,sy=aM.create,sm=a$.create,sv=aF.create,s_=aD.create,sb=a$.createWithPreprocess,sw=aG.create,sx=Object.freeze({__proto__:null,defaultErrorMap:iD,setErrorMap:function(e){iz=e},getErrorMap:iV,makeIssue:iK,EMPTY_PATH:[],addIssueToContext:iW,ParseStatus:iq,INVALID:iG,DIRTY:iH,OK:iY,isAborted:iJ,isDirty:iQ,isValid:iX,isAsync:i0,get util(){return h},get objectUtil(){return f},ZodParsedType:iZ,getParsedType:iM,ZodType:i8,datetimeRegex:ac,ZodString:ah,ZodNumber:af,ZodBigInt:ad,ZodBoolean:ap,ZodDate:ag,ZodSymbol:ay,ZodUndefined:am,ZodNull:av,ZodAny:a_,ZodUnknown:ab,ZodNever:aw,ZodVoid:ax,ZodArray:aE,ZodObject:ak,ZodUnion:aS,ZodDiscriminatedUnion:aA,ZodIntersection:aO,ZodTuple:aC,ZodRecord:aI,ZodMap:aj,ZodSet:aR,ZodFunction:aU,ZodLazy:aB,ZodLiteral:aL,ZodEnum:aP,ZodNativeEnum:aZ,ZodPromise:aM,ZodEffects:a$,ZodTransformer:a$,ZodOptional:aF,ZodNullable:aD,ZodDefault:az,ZodCatch:aV,ZodNaN:aK,BRAND:aW,ZodBranded:aq,ZodPipeline:aG,ZodReadonly:aH,custom:aY,Schema:i8,ZodSchema:i8,late:aJ,get ZodFirstPartyTypeKind(){return m},coerce:{string:e=>ah.create({...e,coerce:!0}),number:e=>af.create({...e,coerce:!0}),boolean:e=>ap.create({...e,coerce:!0}),bigint:e=>ad.create({...e,coerce:!0}),date:e=>ag.create({...e,coerce:!0})},any:a4,array:st,bigint:a1,boolean:a2,date:a6,discriminatedUnion:sa,effect:sm,enum:sp,function:sh,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>aY(t=>t instanceof e,t),intersection:ss,lazy:sf,literal:sd,map:sl,nan:a0,nativeEnum:sg,never:a7,null:a8,nullable:s_,number:aX,object:sr,oboolean:()=>a2().optional(),onumber:()=>aX().optional(),optional:sv,ostring:()=>aQ().optional(),pipeline:sw,preprocess:sb,promise:sy,record:su,set:sc,strictObject:sn,string:aQ,symbol:a3,transformer:sm,tuple:so,undefined:a5,union:si,unknown:a9,void:se,NEVER:iG,ZodIssueCode:i$,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:iF}),sE=j(F(),1),sk=(e="@permaweb/aoconnect")=>{let t=(0,sE.default)(e);return t.child=e=>sk(`${t.namespace}:${e}`),t.tap=(e,...r)=>iP((...n)=>t(e,...r,...n)),t},sS=({url:e,path:t})=>t?t.startsWith("/")?sS({url:e,path:t.slice(1)}):(e=new URL(e),e.pathname+=t,e.toString()):e;function sT(e){return ib(ik([]),ie((e,t)=>ib(iL([],t.name),ii(t.value),io(t.name,np,e))(e),{}),nQ(e=>e.length>1?e:e[0]))(e)}function sA(e,t){return r=>nq(it([iB(e,"name"),iA(ir(t),iB(t,"value"),nd)]),r)}function sO(e){return iE([[iI(String),nZ(e)],[iI(Array),iO(e)],[nd,nf]])}function sC(e){let t;return iI(iF,e)?(t=Error(ib(e=>(function e(t,r,n){return ie((t,i)=>ib(iE([[nZ(i$.invalid_arguments),()=>e(i.argumentsError,422,"Invalid Arguments")],[nZ(i$.invalid_return_type),()=>e(i.returnTypeError,500,"Invalid Return")],[nZ(i$.invalid_union),()=>ig(t=>e(t,400,"Invalid Union"),i.unionErrors)],[nd,()=>[{...i,status:r,contextCode:n}]]]),ix(t))(i.code),[],t.issues)})(e,400,""),e=>ie((e,t)=>{let{message:r,path:n,contextCode:i}=t,a=n[1]||n[0],s=i?`${i} `:"";return e.push(`${s}'${a}': ${r}.`),e},[],e),iR(" | "))(e)),t.stack+=e.stack):t=iI(Error,e)?e:iT("message",e)?Error(e.message):iI(String,e)?Error(e):Error("An error occurred"),t}var sI=sx.object({id:sx.string().min(1,{message:"message is required to be a message id"}),processId:sx.string().min(1,{message:"process is required to be a process id"})}),sj=sx.object({name:sx.string(),value:sx.string()}),sR=sx.function().args(sx.object({Id:sx.string(),Target:sx.string(),Owner:sx.string(),Anchor:sx.string().optional(),Data:sx.any().default("1234"),Tags:sx.array(sx.object({name:sx.string(),value:sx.string()}))})).returns(sx.promise(sx.any())),sU=sx.function().args(sx.object({id:sx.string().min(1,{message:"message id is required"}),processId:sx.string().min(1,{message:"process id is required"})})).returns(sx.promise(sx.any())),sB=sx.function().args(sx.object({process:sx.string().min(1,{message:"process id is required"}),from:sx.string().optional(),to:sx.string().optional(),sort:sx.enum(["ASC","DESC"]).default("ASC"),limit:sx.number().optional()})).returns(sx.promise(sx.object({edges:sx.array(sx.object({cursor:sx.string(),node:sx.object({Output:sx.any().optional(),Messages:sx.array(sx.any()).optional(),Spawns:sx.array(sx.any()).optional(),Error:sx.any().optional()})}))}))),sL=sx.function().args(sx.object({processId:sx.string(),data:sx.any(),tags:sx.array(sj),anchor:sx.string().optional(),signer:sx.any()})).returns(sx.promise(sx.object({messageId:sx.string()}).passthrough())),sN=sx.function().args(sx.object({data:sx.any(),tags:sx.array(sj),signer:sx.any()})).returns(sx.promise(sx.object({processId:sx.string()}).passthrough())),sP=sx.function().args(sx.object({process:sx.string(),message:sx.string(),baseLayer:sx.boolean().optional(),exclude:sx.array(sx.string()).optional()})).returns(sx.promise(sx.object({assignmentId:sx.string()}).passthrough()));sx.function().args(sx.object({suUrl:sx.string().url(),processId:sx.string()})).returns(sx.promise(sx.object({tags:sx.array(sj)}).passthrough())),sx.function().args(sx.string()).returns(sx.promise(sx.object({url:sx.string()})));var sZ=sx.function().args(sx.string()).returns(sx.promise(sx.boolean())),sM=sx.function().args(sx.string()).returns(sx.promise(sx.object({tags:sx.array(sj)}).passthrough())),s$=sx.function().args(sx.object({data:sx.any(),tags:sx.array(sj),target:sx.string().optional(),anchor:sx.string().optional()})).returns(sx.promise(sx.object({id:sx.string(),raw:sx.any()}))),sF=sx.array(sx.object({name:sx.string(),value:sx.string()})),sD=(e,t,r)=>n=>t(n[e])?ns(n):no(`Tag '${e}': ${r}`),sz=sx.array(sx.object({name:sx.string(),value:sx.string()})),sV=sx.object({process:sx.string().min(1,{message:"process identifier is required"}),from:sx.string().optional(),to:sx.string().optional(),sort:sx.enum(["ASC","DESC"]).default("ASC"),limit:sx.number().optional()}),sK=sx.object({Id:sx.string(),Target:sx.string(),Owner:sx.string(),Anchor:sx.string().optional(),Data:sx.any().default("1234"),Tags:sx.array(sx.object({name:sx.string(),value:sx.string()}))});function sW({process:e,data:t,tags:r,anchor:n,...i}){return{Id:"1234",Owner:"1234",...i,Target:e,Data:t||"1234",Tags:r||[],Anchor:n||"0"}}function sq(e){return[{name:"Cron-Interval",value:function(e=""){if("string"!=typeof e)throw Error("Encountered Error serializing cron: invalid interval");let[t,r]=e.split("-").map(e=>e.trim());if(!t||!r)throw Error("Encountered Error serializing cron: invalid interval");if(!parseInt(t)||0>parseInt(t))throw Error("Encountered Error serializing cron: invalid interval value");let n=r.match(/^(millisecond|second|minute|hour|day|month|year|block)$/),i=r.match(/^(milliseconds|seconds|minutes|hours|days|months|years|blocks)$/);if(parseInt(t)>1&&!i||1===parseInt(t)&&!n)throw Error("Encountered Error serializing cron: invalid interval type");return`${t}-${r}`}(e.interval)},...function(e=[]){return nQ(e=>{if(!e.name||!e.value)throw Error("Encountered Error serializing cron: invalid tag structure");if("string"!=typeof e.name||"string"!=typeof e.value)throw Error("Encountered Error serializing cron: invalid interval tag types");return{name:`Cron-Tag-${e.name}`,value:e.value}},e)}(e.tags)]}function sG({GRAPHQL_URL:e,GATEWAY_URL:t="https://arweave.net",MU_URL:r="https://mu.ao-testnet.xyz",CU_URL:n="https://cu.ao-testnet.xyz"}={}){let i=sk();e||(e=sS({url:t,path:"/graphql"}));let{validate:a}=ne({cacheSize:100,GRAPHQL_URL:e}),s=nc({MAX_SIZE:25}),o=i.child("result"),u=function(e){let t=e=>na(e).map(sI.parse).map(()=>e),r=function({loadResult:e}){return e=nu(sU.implement(e)),t=>na({id:t.id,processId:t.processId}).chain(e)}(e);return({message:n,process:i})=>na({id:n,processId:i}).chain(t).chain(r).map(e.logger.tap('readResult result for message "%s": %O',n)).map(e=>e).bimap(sC,iw).toPromise()}({loadResult:function({fetch:e,CU_URL:t,logger:r}){return({id:n,processId:i})=>na(`${t}/result/${n}?process-id=${i}`).map(r.tap("fetching message result from CU")).chain(nu(async t=>e(t,{method:"GET",headers:{Accept:"application/json"},redirect:"follow"}).then(e=>e.json()))).toPromise()}({fetch,CU_URL:n,logger:o}),logger:o}),l=i.child("message"),c=function(e){let t=function(e){let t=e=>na(e.tags).map(ik([])).map(sA("Data-Protocol","ao")).map(sA("Variant")).map(sA("Type")).map(sA("SDK")).map(ix(np,[{name:"Data-Protocol",value:"ao"},{name:"Variant",value:"ao.TN.1"},{name:"Type",value:"Message"},{name:"SDK",value:"aoconnect"}])).map(sF.parse).map(io("tags",np,e)),r=function({logger:e}){return t=>na(t).chain(iA(ir(t.data),()=>ns(t),()=>ns(Math.random().toString().slice(-4)).map(io("data",np,t)).map(e=>ib(n2("tags"),sA("Content-Type"),ii({name:"Content-Type",value:"text/plain"}),io("tags",np,e))(e)).map(e.tap('added pseudo-random string as message "data"'))))}(e),n=sL.implement(e.deployMessage);return e=>na(e).chain(t).chain(r).chain(nu(({id:e,data:t,tags:r,anchor:i,signer:a})=>n({processId:e,data:t,tags:r,anchor:i,signer:s$.implement(a)}))).map(t=>io("messageId",t.messageId,e))}(e);return({process:e,data:r,tags:n,anchor:i,signer:a})=>na({id:e,data:r,tags:n,anchor:i,signer:a}).chain(t).map(e=>e.messageId).bimap(sC,iw).toPromise()}({loadProcessMeta:nh({fetch,cache:s,logger:l}),deployMessage:function({fetch:e,MU_URL:t,logger:r}){let n=r.child("deployMessage");return r=>na(r).chain(nu(({processId:e,data:t,tags:r,anchor:n,signer:i})=>i({data:t,tags:r,target:e,anchor:n}))).chain(r=>na(r).chain(nu(async r=>e(t,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:r.raw}))).bichain(e=>no(Error(`Error while communicating with MU: ${JSON.stringify(e)}`)),nu(async e=>{if(e.ok)return e.json();throw Error(`${e.status}: ${await e.text()}`)})).bimap(n.tap("Error encountered when writing message via MU"),n.tap("Successfully wrote message via MU")).map(e=>({res:e,messageId:r.id}))).toPromise()}({fetch,MU_URL:r,logger:l}),logger:l}),h=i.child("spawn"),f=function(e){let t=function(e){let t=e.logger.child("verifyInput"),r=function({loadTransactionMeta:e,logger:t}){return e=nu(sM.implement(e)),r=>na(r).chain(e).map(n2("tags")).map(sT).chain(sD("Data-Protocol",sO("ao"),"value 'ao' was not found on module")).chain(sD("Type",sO("Module"),"value 'Module' was not found on module")).chain(sD("Module-Format",ij,"was not found on module")).chain(sD("Input-Encoding",ij,"was not found on module")).chain(sD("Output-Encoding",ij,"was not found on module")).bimap(t.tap("Verifying module source failed: %s"),t.tap("Verified module source"))}(e={...e,logger:t}),n=function({logger:e,validateScheduler:t}){return t=nu(sZ.implement(t)),r=>na(r).chain(e=>t(e).chain(t=>t?ns(e):no(`Valid Scheduler-Location owned by ${e} not found`))).bimap(e.tap("Verifying scheduler failed: %s"),e.tap("Verified scheduler"))}(e),i=function({logger:e}){return t=>na(t).map(e.tap("Checking for signer")).chain(e=>e?ns(e):no("signer not found"))}(e);return e=>na(e).chain(e=>r(e.module).map(()=>e)).chain(e=>n(e.scheduler)).map(()=>e).chain(e=>i(e.signer).map(()=>e)).bimap(t.tap("Error when verify input: %s"),t.tap("Successfully verified inputs"))}(e),r=function(e){let t=e.logger.child("uploadProcess"),r=(e={...e,logger:t},e=>na(e).map(n2("tags")).map(ik([])).map(sA("Data-Protocol","ao")).map(sA("Variant")).map(sA("Type")).map(sA("Module")).map(sA("Scheduler")).map(sA("SDK")).map(ix(np,[{name:"Data-Protocol",value:"ao"},{name:"Variant",value:"ao.TN.1"},{name:"Type",value:"Process"},{name:"Module",value:e.module},{name:"Scheduler",value:e.scheduler},{name:"SDK",value:"aoconnect"}])).map(sz.parse).map(io("tags",np,e))),n=function({logger:e}){return t=>na(t).chain(iA(ir(t.data),()=>ns(t),()=>ns(Math.random().toString().slice(-4)).map(io("data",np,t)).map(e=>ib(n2("tags"),sA("Content-Type"),ii({name:"Content-Type",value:"text/plain"}),io("tags",np,e))(e)).map(e.tap('added pseudo-random string as process "data"'))))}(e),i=sN.implement(e.deployProcess);return e=>na(e).chain(r).chain(n).chain(nu(({data:e,tags:t,signer:r})=>i({data:e,tags:t,signer:s$.implement(r)}))).map(t=>io("processId",t.processId,e))}(e);return({module:e,scheduler:n,signer:i,tags:a,data:s})=>na({module:e,scheduler:n,signer:i,tags:a,data:s}).chain(t).chain(r).map(e=>e.processId).bimap(sC,iw).toPromise()}({loadTransactionMeta:function({fetch:e,GRAPHQL_URL:t,logger:r}){let n=`
    query GetTransactions ($transactionIds: [ID!]!) {
      transactions(ids: $transactionIds) {
        edges {
          node {
            owner {
              address
            }
            tags {
              name
              value
            }
            block {
              id
              height
              timestamp
            }
          }
        }
      }
    }`,i=sx.object({data:sx.object({transactions:sx.object({edges:sx.array(sx.object({node:sx.record(sx.any())}))})})});return a=>na(a).chain(nu(a=>e(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,variables:{transactionIds:[a]}})}).then(async e=>{if(e.ok)return e.json();throw r('Error Encountered when querying gateway for transaction "%s"',a),Error(`${e.status}: ${await e.text()}`)}).then(i.parse).then(iU(["data","transactions","edges","0","node"])))).toPromise()}({fetch,GRAPHQL_URL:e,logger:h}),validateScheduler:a,deployProcess:function({fetch:e,MU_URL:t,logger:r}){let n=r.child("deployProcess");return r=>na(r).chain(nu(({data:e,tags:t,signer:r})=>r({data:e,tags:t}))).chain(r=>na(r).chain(nu(async r=>e(t,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:r.raw}))).bichain(e=>no(Error(`Error while communicating with MU: ${JSON.stringify(e)}`)),nu(async e=>{if(e.ok)return e.json();throw Error(`${e.status}: ${await e.text()}`)})).bimap(n.tap("Error encountered when deploying process via MU"),n.tap("Successfully deployed process via MU")).map(e=>({res:e,processId:r.id}))).toPromise()}({fetch,MU_URL:r,logger:h}),logger:h}),d=i.child("monitor"),p=function(e){let t=function(e){let t=sL.implement(e.deployMonitor);return e=>na(e).chain(nu(({id:e,signer:r})=>t({processId:e,signer:s$.implement(r),data:Math.random().toString().slice(-4),tags:[]}))).map(t=>io("monitorId",t.messageId,e))}(e);return({process:e,signer:r})=>na({id:e,signer:r}).chain(t).map(e=>e.monitorId).bimap(sC,iw).toPromise()}({loadProcessMeta:nh({fetch,cache:s,logger:d}),deployMonitor:function({fetch:e,MU_URL:t,logger:r}){let n=r.child("deployMonitor");return r=>na(r).chain(nu(({processId:e,data:t,tags:r,anchor:n,signer:i})=>i({data:t,tags:r,target:e,anchor:n}))).chain(i=>na(i).chain(nu(async n=>e(t+"/monitor/"+r.processId,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:n.raw}))).bichain(e=>no(Error(`Error while communicating with MU: ${JSON.stringify(e)}`)),nu(async e=>{if(e.ok)return{ok:!0};throw Error(`${e.status}: ${await e.text()}`)})).bimap(n.tap("Error encountered when subscribing to process via MU"),n.tap("Successfully subscribed to process via MU")).map(e=>({res:e,messageId:i.id}))).toPromise()}({fetch,MU_URL:r,logger:d}),logger:d}),g=i.child("unmonitor"),y=function(e){let t=function(e){let t=sL.implement(e.deployUnmonitor);return e=>na(e).chain(nu(({id:e,signer:r})=>t({processId:e,signer:s$.implement(r),data:Math.random().toString().slice(-4),tags:[]}))).map(t=>io("monitorId",t.messageId,e))}(e);return({process:e,signer:r})=>na({id:e,signer:r}).chain(t).map(e=>e.monitorId).bimap(sC,iw).toPromise()}({loadProcessMeta:nh({fetch,cache:s,logger:g}),deployUnmonitor:function({fetch:e,MU_URL:t,logger:r}){let n=r.child("deployUnmonitor");return r=>na(r).chain(nu(({processId:e,data:t,tags:r,anchor:n,signer:i})=>i({data:t,tags:r,target:e,anchor:n}))).chain(i=>na(i).chain(nu(async n=>e(t+"/monitor/"+r.processId,{method:"DELETE",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:n.raw}))).bichain(e=>no(Error(`Error while communicating with MU: ${JSON.stringify(e)}`)),nu(async e=>{if(e.ok)return{ok:!0};throw Error(`${e.status}: ${await e.text()}`)})).bimap(n.tap("Error encountered when unsubscribing to process via MU"),n.tap("Successfully unsubscribed to process via MU")).map(e=>({res:e,messageId:i.id}))).toPromise()}({fetch,MU_URL:r,logger:g}),logger:d}),m=i.child("results"),v=function(e){let t=e=>na(e).map(sV.parse).map(()=>e),r=function({queryResults:e}){return e=nu(sB.implement(e)),t=>na({process:t.process,from:t.from,to:t.to,sort:t.sort,limit:t.limit}).chain(e)}(e);return({process:n,from:i,to:a,sort:s,limit:o})=>na({process:n,from:i,to:a,sort:s,limit:o}).chain(t).chain(r).map(e.logger.tap('readResults result for message "%s": %O',n)).map(e=>e).bimap(sC,iw).toPromise()}({queryResults:function({fetch:e,CU_URL:t,logger:r}){return({process:n,from:i,to:a,sort:s,limit:o})=>{let u=new URL(`${t}/results/${n}`),l=new URLSearchParams(u.search);return i&&l.append("from",i),a&&l.append("to",a),s&&l.append("sort",s),o&&l.append("limit",o),u.search=l,na(u.toString()).map(r.tap("fetching message result from CU")).chain(nu(async t=>e(t,{method:"GET",headers:{Accept:"application/json"},redirect:"follow"}).then(e=>e.json()))).toPromise()}}({fetch,CU_URL:n,logger:m}),logger:m}),_=i.child("dryrun");return{result:u,results:v,message:c,spawn:f,monitor:p,unmonitor:y,dryrun:function(e){let t=e=>na(e).map(sK.parse).map(e=>(e.Tags=e.Tags.concat([{name:"Data-Protocol",value:"ao"},{name:"Type",value:"Message"},{name:"Variant",value:"ao.TN.1"}]),e)),r=function({dryrunFetch:e}){return nu(sR.implement(e))}(e);return e=>na(e).map(sW).chain(t).chain(r).toPromise()}({dryrunFetch:function({fetch:e,CU_URL:t,logger:r}){return n=>na(n).map(r.tap("posting dryrun request to CU")).chain(nu(r=>e(`${t}/dry-run?process-id=${r.Target}`,{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(r)}).then(e=>e.json()))).toPromise()}({fetch,CU_URL:n,logger:_}),logger:_}),assign:function(e){let t=function(e){let t=sP.implement(e.deployAssign);return e=>na(e).chain(nu(({process:e,message:r,baseLayer:n,exclude:i})=>t({process:e,message:r,baseLayer:n,exclude:i}))).map(t=>io("assignmentId",t.assignmentId,e))}(e);return({process:e,message:r,baseLayer:n,exclude:i})=>na({process:e,message:r,baseLayer:n,exclude:i}).chain(t).map(e=>e.assignmentId).bimap(sC,iw).toPromise()}({deployAssign:function({fetch:e,MU_URL:t,logger:r}){let n=r.child("deployAssign");return r=>na(r).chain(nu(async({process:r,message:n,baseLayer:i,exclude:a})=>e(`${t}?process-id=${r}&assign=${n}${i?"&base-layer":""}${a?"&exclude="+a.join(","):""}`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"}}))).bichain(e=>no(Error(`Error while communicating with MU: ${JSON.stringify(e)}`)),nu(async e=>{if(e.ok)return e.json();throw Error(`${e.status}: ${await e.text()}`)})).bimap(n.tap("Error encountered when writing assignment via MU"),n.tap("Successfully wrote assignment via MU")).map(e=>({res:e,assignmentId:e.id})).toPromise()}({fetch,MU_URL:r,logger:i.child("assign")}),logger:l})}}var sH={};C(sH,{createDataItemSigner:()=>o$});var sY=j(V(),1),sJ={};C(sJ,{AVSCTap:()=>oE,ArweaveSigner:()=>om,DataItem:()=>oU,MAX_TAG_BYTES:()=>oj,MIN_BINARY_SIZE:()=>oR,SIG_CONFIG:()=>oy,SignatureConfig:()=>_,Signer:()=>oo,createData:()=>oL,default:()=>oP,deserializeTags:()=>oT,indexToType:()=>ov,serializeTags:()=>ok,tagsExceedLimit:()=>oS,warparbundles:()=>oZ});var sQ=Object.create,sX=Object.defineProperty,s0=Object.getOwnPropertyDescriptor,s1=Object.getOwnPropertyNames,s2=Object.getPrototypeOf,s6=Object.prototype.hasOwnProperty,s3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s5=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s1(t))s6.call(e,i)||i===r||sX(e,i,{get:()=>t[i],enumerable:!(n=s0(t,i))||n.enumerable});return e},s8=(e,t,r)=>(r=null!=e?sQ(s2(e)):{},s5(!t&&e&&e.__esModule?r:sX(r,"default",{value:e,enumerable:!0}),e)),s4=s3(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=e.length,r=t%4;if(!r)return e;var n=t,i=4-r,a=t+i,s=w.alloc(a);for(s.write(e);i--;)s.write("=",n++);return s.toString()}}),s9=s3(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=s4();function r(e,t){return void 0===t&&(t="utf8"),w.isBuffer(e)?i(e.toString("base64")):i(w.from(e,t).toString("base64"))}function n(e){return e=e.toString(),t.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function i(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}r.encode=r,r.decode=function(e,t){return void 0===t&&(t="utf8"),w.from(n(e),"base64").toString(t)},r.toBase64=n,r.fromBase64=i,r.toBuffer=function(e){return w.from(n(e),"base64")},e.default=r}),s7=s3((e,t)=>{t.exports=s9().default,t.exports.default=t.exports}),oe=s3(e=>{e.byteLength=function(e){var t=o(e),r=t[0],n=t[1];return(r+n)*3/4-n},e.toByteArray=function(e){var t,r,n=o(e),s=n[0],u=n[1],l=new a((s+u)*3/4-u),c=0,h=u>0?s-4:s;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],s=0,o=r-i;s<o;s+=16383)a.push(function(e,t,r){for(var i,a=[],s=t;s<r;s+=3)a.push(n[(i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===i?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};var t,r,n=[],i=[],a="u">typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=s.length;t<r;++t)n[t]=s[t],i[s.charCodeAt(t)]=t;function o(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}),ot=s3(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.b64UrlDecode=e.b64UrlEncode=e.bufferTob64Url=e.bufferTob64=e.b64UrlToBuffer=e.stringToB64Url=e.stringToBuffer=e.bufferToString=e.b64UrlToString=e.concatBuffers=void 0;var t=oe();function r(e){return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function n(e){return new TextEncoder().encode(e)}function i(e){return new Uint8Array(t.toByteArray(u(e)))}function a(e){return t.fromByteArray(new Uint8Array(e))}function s(e){return o(a(e))}function o(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function u(e){let t;return t=(e=e.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-e.length%4,e.concat("=".repeat(t))}e.concatBuffers=function(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let r=new Uint8Array(t),n=0;r.set(new Uint8Array(e[0]),n),n+=e[0].byteLength;for(let t=1;t<e.length;t++)r.set(new Uint8Array(e[t]),n),n+=e[t].byteLength;return r},e.b64UrlToString=function(e){return r(i(e))},e.bufferToString=r,e.stringToBuffer=n,e.stringToB64Url=function(e){return s(n(e))},e.b64UrlToBuffer=i,e.bufferTob64=a,e.bufferTob64Url=s,e.b64UrlEncode=o,e.b64UrlDecode=u}),or=s3(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ot(),r=class{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){if(!this.detectWebCrypto())throw Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),t=await this.driver.exportKey("jwk",e.privateKey);return{kty:t.kty,e:t.e,n:t.n,d:t.d,p:t.p,q:t.q,dp:t.dp,dq:t.dq,qi:t.qi}}async sign(e,t,{saltLength:r}={}){return new Uint8Array(await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(e),t))}async hash(e,t="SHA-256"){return new Uint8Array(await this.driver.digest(t,e))}async verify(e,t,r){let n=await this.jwkToPublicCryptoKey({kty:"RSA",e:"AQAB",n:e}),i=await this.driver.digest("SHA-256",t),a=await this.driver.verify({name:"RSA-PSS",saltLength:0},n,r,t),s=await this.driver.verify({name:"RSA-PSS",saltLength:32},n,r,t),o=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((n.algorithm.modulusLength-1)/8)-i.byteLength-2},n,r,t);return a||s||o}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let e=crypto?.subtle;return void 0!==e&&["generateKey","importKey","exportKey","digest","sign"].every(t=>"function"==typeof e[t])}async encrypt(e,r,n){let i=await this.driver.importKey("raw","string"==typeof r?t.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:n?t.stringToBuffer(n):t.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);crypto.getRandomValues(s);let o=await this.driver.encrypt({name:"AES-CBC",iv:s},a,e);return t.concatBuffers([s,o])}async decrypt(e,r,n){let i=await this.driver.importKey("raw","string"==typeof r?t.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:n?t.stringToBuffer(n):t.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=e.slice(0,16),o=await this.driver.decrypt({name:"AES-CBC",iv:s},a,e.slice(16));return t.concatBuffers([o])}};e.default=r}),on=s3(e=>{e.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,u=(1<<o)-1,l=u>>1,c=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=o;c>0;a=256*a+e[t+h],h+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),a-=l}return(d?-1:1)*s*Math.pow(2,a-n)},e.write=function(e,t,r,n,i,a){var s,o,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,f=23===i?5960464477539062e-23:0,d=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?t+=f/u:t+=f*Math.pow(2,1-h),t*u>=2&&(s++,u/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(t*u-1)*Math.pow(2,i),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;e[r+d]=255&s,d+=p,s/=256,l-=8);e[r+d-p]|=128*g}}),oi=s3(e=>{var t=oe(),r=on(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|f(e,t),n=i(r),s=n.write(e,t);return s!==r&&(n=n.slice(0,s)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(L(e,Uint8Array)){let t=new Uint8Array(e);return c(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(L(e,ArrayBuffer)||e&&L(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(L(e,SharedArrayBuffer)||e&&L(e.buffer,SharedArrayBuffer)))return c(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);let s=function(e){var t;if(a.isBuffer(e)){let t=0|h(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?i(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(s)return s;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function o(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return o(e),i(e<0?0:0|h(e))}function l(e){let t=e.length<0?0:0|h(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||L(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(i)return n?-1:R(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=N[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return m(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var a,s;return a=r,s=n,0===a&&s===this.length?t.fromByteArray(this):t.fromByteArray(this.slice(a,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function p(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r=+r)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let a,s=1,o=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,o/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(a=r;a<o;a++)if(l(e,a)===l(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===u)return n*s}else -1!==n&&(a-=a-n),n=-1}else for(r+u>o&&(r=o-u),a=r;a>=0;a--){let r=!0;for(let n=0;n<u;n++)if(l(e,a+n)!==l(t,n)){r=!1;break}if(r)return a}return -1}function m(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,o,u;switch(s){case 1:t<128&&(a=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(a=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(a=u);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&u<1114112&&(a=u)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function b(e,t,r,n,i){O(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function w(e,t,r,n,i){O(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function x(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,n,i,a){return t=+t,n>>>=0,a||x(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function k(e,t,n,i,a){return t=+t,n>>>=0,a||x(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return o(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),L(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(L(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?m(this,0,e):d.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,o=r-t,u=Math.min(s,o),l=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){s=l[e],o=c[e];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,a,s,o,u,l,c,h;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let d=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,B(R(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return s=t,o=r,B(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,o);case"base64":return u=t,l=r,B(U(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,B(function(e,t){let r,n,i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,h);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=P(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&I(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=P(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&I(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=P(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&I(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),a.prototype.readBigInt64BE=P(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&I(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=P(function(e,t=0){return b(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=P(function(e,t=0){return w(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=P(function(e,t=0){return b(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=P(function(e,t=0){return w(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=a.isBuffer(e)?e:a.from(e,n),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};var S={};function T(e,t,r){S[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function A(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function O(e,t,r,n,i,a){if(e>r||e<t){let n="bigint"==typeof t?"n":"",i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(a+1)*8}${n}`:`>= -(2${n} ** ${(a+1)*8-1}${n}) and < 2 ** ${(a+1)*8-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new S.ERR_OUT_OF_RANGE("value",i,e)}C(i,"offset"),(void 0===n[i]||void 0===n[i+a])&&I(i,n.length-(a+1))}function C(e,t){if("number"!=typeof e)throw new S.ERR_INVALID_ARG_TYPE(t,"number",e)}function I(e,t,r){throw Math.floor(e)!==e?(C(e,r),new S.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new S.ERR_BUFFER_OUT_OF_BOUNDS:new S.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=A(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=A(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);var j=/[^+/0-9A-Za-z-_]/g;function R(e,t){t=t||1/0;let r,n=e.length,i=null,a=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function U(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function L(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var N=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function P(e){return typeof BigInt>"u"?Z:e}function Z(){throw Error("BigInt not supported")}}),oa=s3((e,t)=>{"u">typeof window?(window.global=window,global.fetch=window.fetch,t.exports={Buffer:oi().Buffer,Crypto:window.crypto}):t.exports={Buffer:oi().Buffer,Crypto:crypto}}),os={};((e,t)=>{for(var r in t)sX(e,r,{get:t[r],enumerable:!0})})(os,{AVSCTap:()=>oE,ArweaveSigner:()=>om,DataItem:()=>oU,MAX_TAG_BYTES:()=>oj,MIN_BINARY_SIZE:()=>oR,SIG_CONFIG:()=>oy,SignatureConfig:()=>_,Signer:()=>oo,createData:()=>oL,deserializeTags:()=>oT,indexToType:()=>ov,serializeTags:()=>ok,tagsExceedLimit:()=>oS});var oo=class{signer;publicKey;signatureType;signatureLength;ownerLength;pem;static verify(e,t,r,n){throw Error("You must implement verify method on child")}},ou=s8(s7(),1),ol=s8(ot(),1);async function oc(e){if(Array.isArray(e)){let t=(0,ol.concatBuffers)([(0,ol.stringToBuffer)("list"),(0,ol.stringToBuffer)(e.length.toString())]);return await oh(e,await og().hash(t,"SHA-384"))}let t=(0,ol.concatBuffers)([(0,ol.stringToBuffer)("blob"),(0,ol.stringToBuffer)(e.byteLength.toString())]),r=(0,ol.concatBuffers)([await og().hash(t,"SHA-384"),await og().hash(e,"SHA-384")]);return await og().hash(r,"SHA-384")}async function oh(e,t){if(e.length<1)return t;let r=(0,ol.concatBuffers)([t,await oc(e[0])]),n=await og().hash(r,"SHA-384");return await oh(e.slice(1),n)}var of=s8(or(),1),od=of.default.default?of.default.default:of.default,op=class extends od{getPublicKey(e){throw Error("Unimplemented")}};function og(){return v??=new op}!function(e){e[e.ARWEAVE=1]="ARWEAVE",e[e.ED25519=2]="ED25519",e[e.ETHEREUM=3]="ETHEREUM",e[e.SOLANA=4]="SOLANA",e[e.INJECTEDAPTOS=5]="INJECTEDAPTOS",e[e.MULTIAPTOS=6]="MULTIAPTOS",e[e.TYPEDETHEREUM=7]="TYPEDETHEREUM"}(_||(_={}));var oy={[_.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[_.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[_.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[_.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[_.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[_.MULTIAPTOS]:{sigLength:2052,pubLength:1025,sigName:"multiAptos"},[_.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}},om=class{signatureType=1;ownerLength=oy[1].pubLength;signatureLength=oy[1].sigLength;jwk;pk;constructor(e){this.pk=e.n,this.jwk=e}get publicKey(){return ou.default.toBuffer(this.pk)}sign(e){return og().sign(this.jwk,e)}static async verify(e,t,r){return await og().verify(e,t,r)}},ov={1:om},o_=s8(s7(),1);async function ob(e){return oc([(0,ol.stringToBuffer)("dataitem"),(0,ol.stringToBuffer)("1"),(0,ol.stringToBuffer)(e.signatureType.toString()),e.rawOwner,e.rawTarget,e.rawAnchor,e.rawTags,e.rawData])}async function ow(e,t){let r=await ob(e),n=await t.sign(r),i=await og().hash(n);return{signature:w.from(n),id:w.from(i)}}async function ox(e,t){let{signature:r,id:n}=await ow(e,t);return e.getRaw().set(r,2),n}var oE=class{buf;pos;constructor(e=w.alloc(oj),t=0){this.buf=e,this.pos=t}writeTags(e){if(!Array.isArray(e))throw Error("input must be array");let t=e.length,r;if(t)for(this.writeLong(t),r=0;r<t;r++){let t=e[r];if(t?.name===void 0||t?.value===void 0)throw Error(`Invalid tag format for ${t}, expected {name:string, value: string}`);this.writeString(t.name),this.writeString(t.value)}this.writeLong(0)}toBuffer(){let e=w.alloc(this.pos);if(this.pos>this.buf.length)throw Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}tagsExceedLimit(){return this.pos>this.buf.length}writeLong(e){let t=this.buf,r,n;if(e>=-0x40000000&&e<0x40000000){n=e>=0?e<<1:~e<<1|1;do t[this.pos]=127&n,n>>=7;while(n&&(t[this.pos++]|=128))}else{r=e>=0?2*e:-(2*e)-1;do t[this.pos]=127&r,r/=128;while(r>=1&&(t[this.pos++]|=128))}this.pos++,this.buf=t}writeString(e){let t=w.byteLength(e),r=this.buf;this.writeLong(t);let n=this.pos;if(this.pos+=t,!(this.pos>r.length)){if(t>64)this.buf.write(e,this.pos-t,t,"utf8");else{let i,a,s;for(i=0;i<t;i++)(a=e.charCodeAt(i))<128?r[n++]=a:(a<2048?r[n++]=a>>6|192:((64512&a)==55296&&(64512&(s=e.charCodeAt(i+1)))==56320?(a=65536+((1023&a)<<10)+(1023&s),i++,r[n++]=a>>18|240,r[n++]=a>>12&63|128):r[n++]=a>>12|224,r[n++]=a>>6&63|128),r[n++]=63&a|128)}this.buf=r}}readLong(){let e=0,t=0,r=this.buf,n,i,a,s;do i=128&(n=r[this.pos++]),e|=(127&n)<<t,t+=7;while(i&&t<28);if(i){a=e,s=0x10000000;do a+=(127&(n=r[this.pos++]))*s,s*=128;while(128&n);return(a%2?-(a+1):a)/2}return e>>1^-(1&e)}skipLong(){let e=this.buf;for(;128&e[this.pos++];);}readTags(){let e=[],t;for(;t=this.readLong();)for(t<0&&(t=-t,this.skipLong());t--;){let t=this.readString(),r=this.readString();e.push({name:t,value:r})}return e}readString(){let e=this.readLong(),t=this.pos,r=this.buf;if(this.pos+=e,!(this.pos>r.length))return this.buf.slice(t,t+e).toString()}};function ok(e){let t=new oE;return t.writeTags(e),t.toBuffer()}function oS(e){let t=new oE;return t.writeTags(e),t.tagsExceedLimit()}function oT(e){return new oE(e).readTags()}function oA(e){let t=0;for(let r=e.length-1;r>=0;r--)t=256*t+e[r];return t}function oO(e){let t=[0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++){let n=255&e;t[r]=n,e=(e-n)/256}return Uint8Array.from(t)}var oC=s8(oa(),1),oI=s8(oi(),1),oj=4096,oR=80,oU=class{binary;_id;constructor(e){this.binary=e}static isDataItem(e){return void 0!==e.binary}get signatureType(){let e=oA(this.binary.subarray(0,2));if(_?.[e]!==void 0)return e;throw Error("Unknown signature type: "+e)}async isValid(){return oU.verify(this.binary)}get id(){return(async()=>o_.default.encode(await this.rawId))()}set id(e){this._id=o_.default.toBuffer(e)}get rawId(){return(async()=>oI.Buffer.from(await oC.Crypto.subtle.digest("SHA-256",this.rawSignature)))()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return o_.default.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return oy[this.signatureType].sigLength}get owner(){return o_.default.encode(this.rawOwner)}get ownerLength(){return oy[this.signatureType].pubLength}get rawTarget(){let e=this.getTargetStart();return 1==this.binary[e]?this.binary.subarray(e+1,e+33):oI.Buffer.alloc(0)}get target(){return o_.default.encode(this.rawTarget)}get rawAnchor(){let e=this.getAnchorStart();return 1==this.binary[e]?this.binary.subarray(e+1,e+33):oI.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){let e=this.getTagsStart(),t=oA(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+t)}get tags(){let e=this.getTagsStart();if(0==oA(this.binary.subarray(e,e+8)))return[];let t=oA(this.binary.subarray(e+8,e+16));return oT(oI.Buffer.from(this.binary.subarray(e+16,e+16+t)))}get tagsB64Url(){return this.tags.map(e=>({name:o_.default.encode(e.name),value:o_.default.encode(e.value)}))}getStartOfData(){let e=this.getTagsStart(),t=oA(this.binary.subarray(e+8,e+16));return e+16+t}get rawData(){let e=this.getTagsStart(),t=oA(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16+t,this.binary.length)}get data(){return o_.default.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await ox(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=oI.Buffer.from(await og().hash(e))}isSigned(){return(this._id?.length??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(e=>({name:o_.default.encode(e.name),value:o_.default.encode(e.value)})),data:this.data}}static async verify(e){if(e.byteLength<oR)return!1;let t=new oU(e),r=t.signatureType,n=t.getTagsStart(),i=oA(e.subarray(n,n+8)),a=oA(e.subarray(n+8,n+16));if(a>oj)return!1;if(i>0)try{if(oT(oI.Buffer.from(e.subarray(n+16,n+16+a))).length!==i)return!1}catch{return!1}let s=ov[r],o=await ob(t);return await s.verify(t.rawOwner,o,t.rawSignature)}async getSignatureData(){return ob(this)}getTagsStart(){let e=this.getTargetStart(),t=1==this.binary[e],r=e+(t?33:1),n=1==this.binary[r];return r+(n?33:1)}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){return this.getTargetStart()+1+(1==this.binary[this.getTargetStart()]?32:0)}},oB=s8(s7(),1);function oL(e,t,r){let n=t.publicKey,i=r?.target?oB.default.toBuffer(r.target):null,a=1+(i?.byteLength??0),s=r?.anchor?w.from(r.anchor):null,o=1+(s?.byteLength??0),u=(r?.tags?.length??0)>0?ok(r.tags):null,l=16+(u?u.byteLength:0),c=w.from(e),h=c.byteLength,f=2+t.signatureLength+t.ownerLength+a+o+l+h,d=w.alloc(f);if(d.set(function(e){if(e>29)throw Error("Short too long");let t=[0,0];for(let r=0;r<t.length;r++){let n=255&e;t[r]=n,e=(e-n)/256}return Uint8Array.from(t)}(t.signatureType),0),d.set(new Uint8Array(t.signatureLength).fill(0),2),n.byteLength!==t.ownerLength)throw Error(`Owner must be ${t.ownerLength} bytes, but was incorrectly ${n.byteLength}`);d.set(n,2+t.signatureLength);let p=2+t.signatureLength+t.ownerLength;if(d[p]=i?1:0,i){if(32!==i.byteLength)throw Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);d.set(i,p+1)}let g=p+a,y=g+1;if(d[g]=s?1:0,s){if(y+=s.byteLength,32!==s.byteLength)throw Error("Anchor must be 32 bytes");d.set(s,g+1)}d.set(oO(r?.tags?.length??0),y);let m=oO(u?.byteLength??0);d.set(m,y+8),u&&d.set(u,y+16);let v=y+l;return d.set(c,v),new oU(d)}var oN={...os};globalThis.arbundles??=oN;var oP=oN,oZ=oN;globalThis.Buffer||(globalThis.Buffer=sY.Buffer);var{DataItem:oM}=sJ;function o$(e){return async({data:t,tags:r,target:n,anchor:i,createDataItem:a=e=>new oM(e)})=>{let s=await e.signDataItem({data:t,tags:r,target:n,anchor:i}),o=a(sY.Buffer.from(s));return{id:await o.id,raw:await o.getRaw()}}}var{result:oF,results:oD,message:oz,spawn:oV,monitor:oK,unmonitor:oW,dryrun:oq,assign:oG}=sG({GATEWAY_URL:globalThis.GATEWAY_URL||void 0,MU_URL:globalThis.MU_URL||void 0,CU_URL:globalThis.CU_URL||void 0,GRAPHQL_URL:globalThis.GRAPHQL_URL||void 0}),oH=sH.createDataItemSigner}}]);